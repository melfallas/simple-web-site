"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8882],{8882:(os,Vn,C)=>{C.d(Vn,{P:()=>rs});var et=C(3953),N=C(467),Ct=C(6690);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol;var xt="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function tt(e,t){for(var o,n=/\r\n|[\n\r]/g,i=1,r=t+1;(o=n.exec(e.body))&&o.index<t;)i+=1,r=t+1-(o.index+o[0].length);return{line:i,column:r}}function Bn(e){return Rt(e.source,tt(e.source,e.start))}function Rt(e,t){var n=e.locationOffset.column-1,i=we(n)+e.body,r=t.line-1,s=t.line+(e.locationOffset.line-1),c=t.column+(1===t.line?n:0),u="".concat(e.name,":").concat(s,":").concat(c,"\n"),l=i.split(/\r\n|[\n\r]/g),d=l[r];if(d.length>120){for(var p=Math.floor(c/80),f=c%80,h=[],m=0;m<d.length;m+=80)h.push(d.slice(m,m+80));return u+wt([["".concat(s),h[0]]].concat(h.slice(1,p+1).map(function(g){return["",g]}),[[" ",we(f-1)+"^"],["",h[p+1]]]))}return u+wt([["".concat(s-1),l[r-1]],["".concat(s),d],["",we(c-1)+"^"],["".concat(s+1),l[r+1]]])}function wt(e){var t=e.filter(function(i){return void 0!==i[1]}),n=Math.max.apply(Math,t.map(function(i){return i[0].length}));return t.map(function(i){var o=i[1];return function Gn(e,t){return we(e-t.length)+t}(n,i[0])+(o?" | "+o:" |")}).join("\n")}function we(e){return Array(e+1).join(" ")}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Mt(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){var t="function"==typeof Map?new Map:void 0;return nt=function(i){if(null===i||!function Xn(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(i))return i;if("function"!=typeof i)throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,r)}function r(){return Pe(i,arguments,ge(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ye(r,i)},nt(e)}function Pe(e,t,n){return(Pe=Ft()?Reflect.construct:function(r,o,s){var a=[null];a.push.apply(a,o);var u=new(Function.bind.apply(r,a));return s&&ye(u,s.prototype),u}).apply(null,arguments)}function Ft(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ye(e,t){return(ye=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i})(e,t)}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}var Ee=function(e){!function Yn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(n,e);var t=function Jn(e){var t=Ft();return function(){var r,i=ge(e);if(t){var o=ge(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return Mt(this,r)}}(n);function n(i,r,o,s,a,c,u){var l,d,p,f;(function Hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),(f=t.call(this,i)).name="GraphQLError",f.originalError=null!=c?c:void 0,f.nodes=Ut(Array.isArray(r)?r:r?[r]:void 0);for(var h=[],m=0,g=null!==(y=f.nodes)&&void 0!==y?y:[];m<g.length;m++){var y,T=g[m].loc;null!=T&&h.push(T)}h=Ut(h),f.source=null!=o?o:null===(l=h)||void 0===l?void 0:l[0].source,f.positions=null!=s?s:null===(d=h)||void 0===d?void 0:d.map(function(S){return S.start}),f.locations=s&&o?s.map(function(S){return tt(o,S)}):null===(p=h)||void 0===p?void 0:p.map(function(S){return tt(S.source,S.start)}),f.path=null!=a?a:void 0;var b=null==c?void 0:c.extensions;return f.extensions=null==u&&function Qn(e){return"object"==Re(e)&&null!==e}(b)?function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach(function(i){qn(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}({},b):null!=u?u:{},Object.defineProperties(me(f),{message:{enumerable:!0},locations:{enumerable:null!=f.locations},path:{enumerable:null!=f.path},extensions:{enumerable:null!=f.extensions&&Object.keys(f.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=c&&c.stack?(Object.defineProperty(me(f),"stack",{value:c.stack,writable:!0,configurable:!0}),Mt(f)):(Error.captureStackTrace?Error.captureStackTrace(me(f),n):Object.defineProperty(me(f),"stack",{value:Error().stack,writable:!0,configurable:!0}),f)}return function Wn(e,t,n){t&&Pt(e.prototype,t),n&&Pt(e,n)}(n,[{key:"toString",value:function(){return function Zn(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var r=i[n];r.loc&&(t+="\n\n"+Bn(r.loc))}else if(e.source&&e.locations)for(var o=0,s=e.locations;o<s.length;o++)t+="\n\n"+Rt(e.source,s[o]);return t}(this)}},{key:xt,get:function(){return"Object"}}]),n}(nt(Error));function Ut(e){return void 0===e||0===e.length?void 0:e}function z(e,t,n){return new Ee("Syntax Error: ".concat(n),void 0,e,[t])}var O=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const it="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function $t(e){var t=e.prototype.toJSON;"function"==typeof t||function ei(e,t){if(!e)throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,it&&(e.prototype[it]=t)}var jt=function(){function e(n,i,r){this.start=n.start,this.end=i.end,this.startToken=n,this.endToken=i,this.source=r}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();$t(jt);var P=function(){function e(n,i,r,o,s,a,c){this.kind=n,this.start=i,this.end=r,this.line=o,this.column=s,this.value=c,this.prev=a,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function Kt(e){return null!=e&&"string"==typeof e.kind}$t(P);var v=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}var ni=10,Vt=2;function Qt(e){return Fe(e,[])}function Fe(e,t){switch(Me(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function ii(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function si(e){var t=e[String(it)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==i){var r=i.call(e);if(r!==e)return"string"==typeof r?r:Fe(r,n)}else if(Array.isArray(e))return function oi(e,t){if(0===e.length)return"[]";if(t.length>Vt)return"[Array]";for(var n=Math.min(ni,e.length),i=e.length-n,r=[],o=0;o<n;++o)r.push(Fe(e[o],t));return 1===i?r.push("... 1 more item"):i>1&&r.push("... ".concat(i," more items")),"["+r.join(", ")+"]"}(e,n);return function ri(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>Vt)return"["+function ai(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var i=n.map(function(r){return r+": "+Fe(e[r],t)});return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function rt(e,t){if(!e)throw new Error(t)}function Bt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Gt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof t||rt(0,"Body must be a string. Received: ".concat(Qt(t),".")),this.body=t,this.name=n,this.locationOffset=i,this.locationOffset.line>0||rt(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||rt(0,"column in locationOffset is 1-indexed and must be positive.")}return function ui(e,t,n){t&&Bt(e.prototype,t),n&&Bt(e,n)}(e,[{key:xt,get:function(){return"Source"}}]),e}(),di=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function pi(e){var t=e.split(/\r\n|[\n\r]/g),n=function fi(e){for(var t,n=!0,i=!0,r=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,i=!0,r=0;break;case 9:case 32:++r;break;default:i&&!n&&(null===o||r<o)&&(o=r),i=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var r=0;r<t.length&&zt(t[r]);)++r;for(var o=t.length;o>r&&zt(t[o-1]);)--o;return t.slice(r,o).join("\n")}function zt(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var vi=function(){function e(n){var i=new P(v.SOF,0,0,0,0,null);this.source=n,this.lastToken=i,this.token=i,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var i=this.token;if(i.kind!==v.EOF)do{var r;i=null!==(r=i.next)&&void 0!==r?r:i.next=yi(this,i)}while(i.kind===v.COMMENT);return i},e}();function oe(e){return isNaN(e)?v.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function yi(e,t){for(var n=e.source,i=n.body,r=i.length,o=t.end;o<r;){var s=i.charCodeAt(o),a=e.line,c=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===i.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new P(v.BANG,o,o+1,a,c,t);case 35:return Ei(n,o,a,c,t);case 36:return new P(v.DOLLAR,o,o+1,a,c,t);case 38:return new P(v.AMP,o,o+1,a,c,t);case 40:return new P(v.PAREN_L,o,o+1,a,c,t);case 41:return new P(v.PAREN_R,o,o+1,a,c,t);case 46:if(46===i.charCodeAt(o+1)&&46===i.charCodeAt(o+2))return new P(v.SPREAD,o,o+3,a,c,t);break;case 58:return new P(v.COLON,o,o+1,a,c,t);case 61:return new P(v.EQUALS,o,o+1,a,c,t);case 64:return new P(v.AT,o,o+1,a,c,t);case 91:return new P(v.BRACKET_L,o,o+1,a,c,t);case 93:return new P(v.BRACKET_R,o,o+1,a,c,t);case 123:return new P(v.BRACE_L,o,o+1,a,c,t);case 124:return new P(v.PIPE,o,o+1,a,c,t);case 125:return new P(v.BRACE_R,o,o+1,a,c,t);case 34:return 34===i.charCodeAt(o+1)&&34===i.charCodeAt(o+2)?Si(n,o,a,c,t,e):Ti(n,o,a,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ai(n,o,s,a,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ni(n,o,a,c,t)}throw z(n,o,gi(s))}return new P(v.EOF,r,r,e.line,1+o-e.lineStart,t)}function gi(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(oe(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(oe(e),".")}function Ei(e,t,n,i,r){var s,o=e.body,a=t;do{s=o.charCodeAt(++a)}while(!isNaN(s)&&(s>31||9===s));return new P(v.COMMENT,t,a,n,i,r,o.slice(t+1,a))}function Ai(e,t,n,i,r,o){var s=e.body,a=n,c=t,u=!1;if(45===a&&(a=s.charCodeAt(++c)),48===a){if((a=s.charCodeAt(++c))>=48&&a<=57)throw z(e,c,"Invalid number, unexpected digit after 0: ".concat(oe(a),"."))}else c=st(e,c,a),a=s.charCodeAt(c);if(46===a&&(u=!0,a=s.charCodeAt(++c),c=st(e,c,a),a=s.charCodeAt(c)),(69===a||101===a)&&(u=!0,(43===(a=s.charCodeAt(++c))||45===a)&&(a=s.charCodeAt(++c)),c=st(e,c,a),a=s.charCodeAt(c)),46===a||function bi(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(a))throw z(e,c,"Invalid number, expected digit but got: ".concat(oe(a),"."));return new P(u?v.FLOAT:v.INT,t,c,i,r,o,s.slice(t,c))}function st(e,t,n){var i=e.body,r=t,o=n;if(o>=48&&o<=57){do{o=i.charCodeAt(++r)}while(o>=48&&o<=57);return r}throw z(e,r,"Invalid number, expected digit but got: ".concat(oe(o),"."))}function Ti(e,t,n,i,r){for(var o=e.body,s=t+1,a=s,c=0,u="";s<o.length&&!isNaN(c=o.charCodeAt(s))&&10!==c&&13!==c;){if(34===c)return u+=o.slice(a,s),new P(v.STRING,t,s+1,n,i,r,u);if(c<32&&9!==c)throw z(e,s,"Invalid character within String: ".concat(oe(c),"."));if(++s,92===c){switch(u+=o.slice(a,s-1),c=o.charCodeAt(s)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="\t";break;case 117:var l=Oi(o.charCodeAt(s+1),o.charCodeAt(s+2),o.charCodeAt(s+3),o.charCodeAt(s+4));if(l<0){var d=o.slice(s+1,s+5);throw z(e,s,"Invalid character escape sequence: \\u".concat(d,"."))}u+=String.fromCharCode(l),s+=4;break;default:throw z(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}a=++s}}throw z(e,s,"Unterminated string.")}function Si(e,t,n,i,r,o){for(var s=e.body,a=t+3,c=a,u=0,l="";a<s.length&&!isNaN(u=s.charCodeAt(a));){if(34===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return l+=s.slice(c,a),new P(v.BLOCK_STRING,t,a+3,n,i,r,pi(l));if(u<32&&9!==u&&10!==u&&13!==u)throw z(e,a,"Invalid character within String: ".concat(oe(u),"."));10===u?(++a,++o.line,o.lineStart=a):13===u?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(l+=s.slice(c,a)+'"""',c=a+=4):++a}throw z(e,a,"Unterminated string.")}function Oi(e,t,n,i){return Ue(e)<<12|Ue(t)<<8|Ue(n)<<4|Ue(i)}function Ue(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ni(e,t,n,i,r){for(var o=e.body,s=o.length,a=t+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new P(v.NAME,t,a,n,i,r,o.slice(t,a))}function at(e,t){return new ct(e,t).parseDocument()}var ct=function(){function e(n,i){var r=function li(e){return e instanceof Gt}(n)?n:new Gt(n);this._lexer=new vi(r),this._options=i}var t=e.prototype;return t.parseName=function(){var i=this.expectToken(v.NAME);return{kind:O.NAME,value:i.value,loc:this.loc(i)}},t.parseDocument=function(){var i=this._lexer.token;return{kind:O.DOCUMENT,definitions:this.many(v.SOF,this.parseDefinition,v.EOF),loc:this.loc(i)}},t.parseDefinition=function(){if(this.peek(v.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(v.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var i=this._lexer.token;if(this.peek(v.BRACE_L))return{kind:O.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(i)};var o,r=this.parseOperationType();return this.peek(v.NAME)&&(o=this.parseName()),{kind:O.OPERATION_DEFINITION,operation:r,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseOperationType=function(){var i=this.expectToken(v.NAME);switch(i.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(i)},t.parseVariableDefinitions=function(){return this.optionalMany(v.PAREN_L,this.parseVariableDefinition,v.PAREN_R)},t.parseVariableDefinition=function(){var i=this._lexer.token;return{kind:O.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(v.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(v.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(i)}},t.parseVariable=function(){var i=this._lexer.token;return this.expectToken(v.DOLLAR),{kind:O.VARIABLE,name:this.parseName(),loc:this.loc(i)}},t.parseSelectionSet=function(){var i=this._lexer.token;return{kind:O.SELECTION_SET,selections:this.many(v.BRACE_L,this.parseSelection,v.BRACE_R),loc:this.loc(i)}},t.parseSelection=function(){return this.peek(v.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var o,s,i=this._lexer.token,r=this.parseName();return this.expectOptionalToken(v.COLON)?(o=r,s=this.parseName()):s=r,{kind:O.FIELD,alias:o,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(v.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(i)}},t.parseArguments=function(i){return this.optionalMany(v.PAREN_L,i?this.parseConstArgument:this.parseArgument,v.PAREN_R)},t.parseArgument=function(){var i=this._lexer.token,r=this.parseName();return this.expectToken(v.COLON),{kind:O.ARGUMENT,name:r,value:this.parseValueLiteral(!1),loc:this.loc(i)}},t.parseConstArgument=function(){var i=this._lexer.token;return{kind:O.ARGUMENT,name:this.parseName(),value:(this.expectToken(v.COLON),this.parseValueLiteral(!0)),loc:this.loc(i)}},t.parseFragment=function(){var i=this._lexer.token;this.expectToken(v.SPREAD);var r=this.expectOptionalKeyword("on");return!r&&this.peek(v.NAME)?{kind:O.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(i)}:{kind:O.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseFragmentDefinition=function(){var i,r=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(i=this._options)||void 0===i?void 0:i.experimentalFragmentVariables)?{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}:{kind:O.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(i){var r=this._lexer.token;switch(r.kind){case v.BRACKET_L:return this.parseList(i);case v.BRACE_L:return this.parseObject(i);case v.INT:return this._lexer.advance(),{kind:O.INT,value:r.value,loc:this.loc(r)};case v.FLOAT:return this._lexer.advance(),{kind:O.FLOAT,value:r.value,loc:this.loc(r)};case v.STRING:case v.BLOCK_STRING:return this.parseStringLiteral();case v.NAME:switch(this._lexer.advance(),r.value){case"true":return{kind:O.BOOLEAN,value:!0,loc:this.loc(r)};case"false":return{kind:O.BOOLEAN,value:!1,loc:this.loc(r)};case"null":return{kind:O.NULL,loc:this.loc(r)};default:return{kind:O.ENUM,value:r.value,loc:this.loc(r)}}case v.DOLLAR:if(!i)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var i=this._lexer.token;return this._lexer.advance(),{kind:O.STRING,value:i.value,block:i.kind===v.BLOCK_STRING,loc:this.loc(i)}},t.parseList=function(i){var r=this,o=this._lexer.token;return{kind:O.LIST,values:this.any(v.BRACKET_L,function(){return r.parseValueLiteral(i)},v.BRACKET_R),loc:this.loc(o)}},t.parseObject=function(i){var r=this,o=this._lexer.token;return{kind:O.OBJECT,fields:this.any(v.BRACE_L,function(){return r.parseObjectField(i)},v.BRACE_R),loc:this.loc(o)}},t.parseObjectField=function(i){var r=this._lexer.token,o=this.parseName();return this.expectToken(v.COLON),{kind:O.OBJECT_FIELD,name:o,value:this.parseValueLiteral(i),loc:this.loc(r)}},t.parseDirectives=function(i){for(var r=[];this.peek(v.AT);)r.push(this.parseDirective(i));return r},t.parseDirective=function(i){var r=this._lexer.token;return this.expectToken(v.AT),{kind:O.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(i),loc:this.loc(r)}},t.parseTypeReference=function(){var r,i=this._lexer.token;return this.expectOptionalToken(v.BRACKET_L)?(r=this.parseTypeReference(),this.expectToken(v.BRACKET_R),r={kind:O.LIST_TYPE,type:r,loc:this.loc(i)}):r=this.parseNamedType(),this.expectOptionalToken(v.BANG)?{kind:O.NON_NULL_TYPE,type:r,loc:this.loc(i)}:r},t.parseNamedType=function(){var i=this._lexer.token;return{kind:O.NAMED_TYPE,name:this.parseName(),loc:this.loc(i)}},t.parseTypeSystemDefinition=function(){var i=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(i.kind===v.NAME)switch(i.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(i)},t.peekDescription=function(){return this.peek(v.STRING)||this.peek(v.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var i=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");var o=this.parseDirectives(!0),s=this.many(v.BRACE_L,this.parseOperationTypeDefinition,v.BRACE_R);return{kind:O.SCHEMA_DEFINITION,description:r,directives:o,operationTypes:s,loc:this.loc(i)}},t.parseOperationTypeDefinition=function(){var i=this._lexer.token,r=this.parseOperationType();this.expectToken(v.COLON);var o=this.parseNamedType();return{kind:O.OPERATION_TYPE_DEFINITION,operation:r,type:o,loc:this.loc(i)}},t.parseScalarTypeDefinition=function(){var i=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");var o=this.parseName(),s=this.parseDirectives(!0);return{kind:O.SCALAR_TYPE_DEFINITION,description:r,name:o,directives:s,loc:this.loc(i)}},t.parseObjectTypeDefinition=function(){var i=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");var o=this.parseName(),s=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:O.OBJECT_TYPE_DEFINITION,description:r,name:o,interfaces:s,directives:a,fields:c,loc:this.loc(i)}},t.parseImplementsInterfaces=function(){var i;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(i=this._options)||void 0===i?void 0:i.allowLegacySDLImplementsInterfaces)){var r=[];this.expectOptionalToken(v.AMP);do{r.push(this.parseNamedType())}while(this.expectOptionalToken(v.AMP)||this.peek(v.NAME));return r}return this.delimitedMany(v.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var i;return!0===(null===(i=this._options)||void 0===i?void 0:i.allowLegacySDLEmptyFields)&&this.peek(v.BRACE_L)&&this._lexer.lookahead().kind===v.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(v.BRACE_L,this.parseFieldDefinition,v.BRACE_R)},t.parseFieldDefinition=function(){var i=this._lexer.token,r=this.parseDescription(),o=this.parseName(),s=this.parseArgumentDefs();this.expectToken(v.COLON);var a=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:O.FIELD_DEFINITION,description:r,name:o,arguments:s,type:a,directives:c,loc:this.loc(i)}},t.parseArgumentDefs=function(){return this.optionalMany(v.PAREN_L,this.parseInputValueDef,v.PAREN_R)},t.parseInputValueDef=function(){var i=this._lexer.token,r=this.parseDescription(),o=this.parseName();this.expectToken(v.COLON);var a,s=this.parseTypeReference();this.expectOptionalToken(v.EQUALS)&&(a=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:O.INPUT_VALUE_DEFINITION,description:r,name:o,type:s,defaultValue:a,directives:c,loc:this.loc(i)}},t.parseInterfaceTypeDefinition=function(){var i=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");var o=this.parseName(),s=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:O.INTERFACE_TYPE_DEFINITION,description:r,name:o,interfaces:s,directives:a,fields:c,loc:this.loc(i)}},t.parseUnionTypeDefinition=function(){var i=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");var o=this.parseName(),s=this.parseDirectives(!0),a=this.parseUnionMemberTypes();return{kind:O.UNION_TYPE_DEFINITION,description:r,name:o,directives:s,types:a,loc:this.loc(i)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(v.EQUALS)?this.delimitedMany(v.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var i=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");var o=this.parseName(),s=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();return{kind:O.ENUM_TYPE_DEFINITION,description:r,name:o,directives:s,values:a,loc:this.loc(i)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(v.BRACE_L,this.parseEnumValueDefinition,v.BRACE_R)},t.parseEnumValueDefinition=function(){var i=this._lexer.token,r=this.parseDescription(),o=this.parseName(),s=this.parseDirectives(!0);return{kind:O.ENUM_VALUE_DEFINITION,description:r,name:o,directives:s,loc:this.loc(i)}},t.parseInputObjectTypeDefinition=function(){var i=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");var o=this.parseName(),s=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();return{kind:O.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:o,directives:s,fields:a,loc:this.loc(i)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(v.BRACE_L,this.parseInputValueDef,v.BRACE_R)},t.parseTypeSystemExtension=function(){var i=this._lexer.lookahead();if(i.kind===v.NAME)switch(i.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(i)},t.parseSchemaExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var r=this.parseDirectives(!0),o=this.optionalMany(v.BRACE_L,this.parseOperationTypeDefinition,v.BRACE_R);if(0===r.length&&0===o.length)throw this.unexpected();return{kind:O.SCHEMA_EXTENSION,directives:r,operationTypes:o,loc:this.loc(i)}},t.parseScalarTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var r=this.parseName(),o=this.parseDirectives(!0);if(0===o.length)throw this.unexpected();return{kind:O.SCALAR_TYPE_EXTENSION,name:r,directives:o,loc:this.loc(i)}},t.parseObjectTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var r=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(0===o.length&&0===s.length&&0===a.length)throw this.unexpected();return{kind:O.OBJECT_TYPE_EXTENSION,name:r,interfaces:o,directives:s,fields:a,loc:this.loc(i)}},t.parseInterfaceTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var r=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),a=this.parseFieldsDefinition();if(0===o.length&&0===s.length&&0===a.length)throw this.unexpected();return{kind:O.INTERFACE_TYPE_EXTENSION,name:r,interfaces:o,directives:s,fields:a,loc:this.loc(i)}},t.parseUnionTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var r=this.parseName(),o=this.parseDirectives(!0),s=this.parseUnionMemberTypes();if(0===o.length&&0===s.length)throw this.unexpected();return{kind:O.UNION_TYPE_EXTENSION,name:r,directives:o,types:s,loc:this.loc(i)}},t.parseEnumTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var r=this.parseName(),o=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();if(0===o.length&&0===s.length)throw this.unexpected();return{kind:O.ENUM_TYPE_EXTENSION,name:r,directives:o,values:s,loc:this.loc(i)}},t.parseInputObjectTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var r=this.parseName(),o=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();if(0===o.length&&0===s.length)throw this.unexpected();return{kind:O.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:o,fields:s,loc:this.loc(i)}},t.parseDirectiveDefinition=function(){var i=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(v.AT);var o=this.parseName(),s=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:O.DIRECTIVE_DEFINITION,description:r,name:o,arguments:s,repeatable:a,locations:c,loc:this.loc(i)}},t.parseDirectiveLocations=function(){return this.delimitedMany(v.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var i=this._lexer.token,r=this.parseName();if(void 0!==di[r.value])return r;throw this.unexpected(i)},t.loc=function(i){var r;if(!0!==(null===(r=this._options)||void 0===r?void 0:r.noLocation))return new jt(i,this._lexer.lastToken,this._lexer.source)},t.peek=function(i){return this._lexer.token.kind===i},t.expectToken=function(i){var r=this._lexer.token;if(r.kind===i)return this._lexer.advance(),r;throw z(this._lexer.source,r.start,"Expected ".concat(qt(i),", found ").concat(ut(r),"."))},t.expectOptionalToken=function(i){var r=this._lexer.token;if(r.kind===i)return this._lexer.advance(),r},t.expectKeyword=function(i){var r=this._lexer.token;if(r.kind!==v.NAME||r.value!==i)throw z(this._lexer.source,r.start,'Expected "'.concat(i,'", found ').concat(ut(r),"."));this._lexer.advance()},t.expectOptionalKeyword=function(i){var r=this._lexer.token;return r.kind===v.NAME&&r.value===i&&(this._lexer.advance(),!0)},t.unexpected=function(i){var r=null!=i?i:this._lexer.token;return z(this._lexer.source,r.start,"Unexpected ".concat(ut(r),"."))},t.any=function(i,r,o){this.expectToken(i);for(var s=[];!this.expectOptionalToken(o);)s.push(r.call(this));return s},t.optionalMany=function(i,r,o){if(this.expectOptionalToken(i)){var s=[];do{s.push(r.call(this))}while(!this.expectOptionalToken(o));return s}return[]},t.many=function(i,r,o){this.expectToken(i);var s=[];do{s.push(r.call(this))}while(!this.expectOptionalToken(o));return s},t.delimitedMany=function(i,r){this.expectOptionalToken(i);var o=[];do{o.push(r.call(this))}while(this.expectOptionalToken(i));return o},e}();function ut(e){var t=e.value;return qt(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function qt(e){return function mi(e){return e===v.BANG||e===v.DOLLAR||e===v.AMP||e===v.PAREN_L||e===v.PAREN_R||e===v.SPREAD||e===v.COLON||e===v.EQUALS||e===v.AT||e===v.BRACKET_L||e===v.BRACKET_R||e===v.BRACE_L||e===v.PIPE||e===v.BRACE_R}(e)?'"'.concat(e,'"'):e}var Ii={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Ae=Object.freeze({});function lt(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var r=n?i.leave:i.enter;if("function"==typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}function Te(e){return function _i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ii,i=void 0,r=Array.isArray(e),o=[e],s=-1,a=[],c=void 0,u=void 0,l=void 0,d=[],p=[],f=e;do{var h=++s===o.length,m=h&&0!==a.length;if(h){if(u=0===p.length?void 0:d[d.length-1],c=l,l=p.pop(),m){if(r)c=c.slice();else{for(var g={},y=0,A=Object.keys(c);y<A.length;y++){var T=A[y];g[T]=c[T]}c=g}for(var b=0,S=0;S<a.length;S++){var D=a[S][0],x=a[S][1];r&&(D-=b),r&&null===x?(c.splice(D,1),b++):c[D]=x}}s=i.index,o=i.keys,a=i.edits,r=i.inArray,i=i.prev}else{if(u=l?r?s:o[s]:void 0,null==(c=l?l[u]:f))continue;l&&d.push(u)}var L,_=void 0;if(!Array.isArray(c)){if(!Kt(c))throw new Error("Invalid AST Node: ".concat(Qt(c),"."));var I=lt(t,c.kind,h);if(I){if((_=I.call(t,c,u,l,d,p))===Ae)break;if(!1===_){if(!h){d.pop();continue}}else if(void 0!==_&&(a.push([u,_]),!h)){if(!Kt(_)){d.pop();continue}c=_}}}void 0===_&&m&&a.push([u,c]),h?d.pop():(i={inArray:r,index:s,keys:o,edits:a,prev:i},o=(r=Array.isArray(c))?c:null!==(L=n[c.kind])&&void 0!==L?L:[],s=-1,a=[],l&&p.push(l),l=c)}while(void 0!==i);return 0!==a.length&&(f=a[a.length-1][1]),f}(e,{leave:ki})}var ki={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return E(t.definitions,"\n\n")+"\n"},OperationDefinition:function(t){var n=t.operation,i=t.name,r=w("(",E(t.variableDefinitions,", "),")"),o=E(t.directives," "),s=t.selectionSet;return i||o||r||"query"!==n?E([n,E([i,r]),o,s]," "):s},VariableDefinition:function(t){var o=t.directives;return t.variable+": "+t.type+w(" = ",t.defaultValue)+w(" ",E(o," "))},SelectionSet:function(t){return W(t.selections)},Field:function(t){var i=t.name,r=t.arguments,o=t.directives,s=t.selectionSet,a=w("",t.alias,": ")+i,c=a+w("(",E(r,", "),")");return c.length>80&&(c=a+w("(\n",$e(E(r,"\n")),"\n)")),E([c,E(o," "),s]," ")},Argument:function(t){return t.name+": "+t.value},FragmentSpread:function(t){return"..."+t.name+w(" ",E(t.directives," "))},InlineFragment:function(t){var i=t.directives,r=t.selectionSet;return E(["...",w("on ",t.typeCondition),E(i," "),r]," ")},FragmentDefinition:function(t){var i=t.typeCondition,r=t.variableDefinitions,o=t.directives,s=t.selectionSet;return"fragment ".concat(t.name).concat(w("(",E(r,", "),")")," ")+"on ".concat(i," ").concat(w("",E(o," ")," "))+s},IntValue:function(t){return t.value},FloatValue:function(t){return t.value},StringValue:function(t,n){var i=t.value;return t.block?function hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),a=!i||'"'===e[e.length-1]||"\\"===e[e.length-1]||n,c="";return a&&!(i&&(" "===e[0]||"\t"===e[0]))&&(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,a&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(i,"description"===n?"":"  "):JSON.stringify(i)},BooleanValue:function(t){return t.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){return t.value},ListValue:function(t){return"["+E(t.values,", ")+"]"},ObjectValue:function(t){return"{"+E(t.fields,", ")+"}"},ObjectField:function(t){return t.name+": "+t.value},Directive:function(t){return"@"+t.name+w("(",E(t.arguments,", "),")")},NamedType:function(t){return t.name},ListType:function(t){return"["+t.type+"]"},NonNullType:function(t){return t.type+"!"},SchemaDefinition:H(function(e){var n=e.operationTypes;return E(["schema",E(e.directives," "),W(n)]," ")}),OperationTypeDefinition:function(t){return t.operation+": "+t.type},ScalarTypeDefinition:H(function(e){return E(["scalar",e.name,E(e.directives," ")]," ")}),ObjectTypeDefinition:H(function(e){var i=e.directives,r=e.fields;return E(["type",e.name,w("implements ",E(e.interfaces," & ")),E(i," "),W(r)]," ")}),FieldDefinition:H(function(e){var n=e.arguments,i=e.type,r=e.directives;return e.name+(Ht(n)?w("(\n",$e(E(n,"\n")),"\n)"):w("(",E(n,", "),")"))+": "+i+w(" ",E(r," "))}),InputValueDefinition:H(function(e){var r=e.directives;return E([e.name+": "+e.type,w("= ",e.defaultValue),E(r," ")]," ")}),InterfaceTypeDefinition:H(function(e){var i=e.directives,r=e.fields;return E(["interface",e.name,w("implements ",E(e.interfaces," & ")),E(i," "),W(r)]," ")}),UnionTypeDefinition:H(function(e){var i=e.types;return E(["union",e.name,E(e.directives," "),i&&0!==i.length?"= "+E(i," | "):""]," ")}),EnumTypeDefinition:H(function(e){var i=e.values;return E(["enum",e.name,E(e.directives," "),W(i)]," ")}),EnumValueDefinition:H(function(e){return E([e.name,E(e.directives," ")]," ")}),InputObjectTypeDefinition:H(function(e){var i=e.fields;return E(["input",e.name,E(e.directives," "),W(i)]," ")}),DirectiveDefinition:H(function(e){var n=e.arguments,i=e.repeatable,r=e.locations;return"directive @"+e.name+(Ht(n)?w("(\n",$e(E(n,"\n")),"\n)"):w("(",E(n,", "),")"))+(i?" repeatable":"")+" on "+E(r," | ")}),SchemaExtension:function(t){var i=t.operationTypes;return E(["extend schema",E(t.directives," "),W(i)]," ")},ScalarTypeExtension:function(t){return E(["extend scalar",t.name,E(t.directives," ")]," ")},ObjectTypeExtension:function(t){var r=t.directives,o=t.fields;return E(["extend type",t.name,w("implements ",E(t.interfaces," & ")),E(r," "),W(o)]," ")},InterfaceTypeExtension:function(t){var r=t.directives,o=t.fields;return E(["extend interface",t.name,w("implements ",E(t.interfaces," & ")),E(r," "),W(o)]," ")},UnionTypeExtension:function(t){var r=t.types;return E(["extend union",t.name,E(t.directives," "),r&&0!==r.length?"= "+E(r," | "):""]," ")},EnumTypeExtension:function(t){var r=t.values;return E(["extend enum",t.name,E(t.directives," "),W(r)]," ")},InputObjectTypeExtension:function(t){var r=t.fields;return E(["extend input",t.name,E(t.directives," "),W(r)]," ")}};function H(e){return function(t){return E([t.description,e(t)],"\n")}}function E(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter(function(i){return i}).join(n))&&void 0!==t?t:""}function W(e){return w("{\n",$e(E(e,"\n")),"\n}")}function w(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function $e(e){return w("  ",e.replace(/\n/g,"\n  "))}function Ci(e){return-1!==e.indexOf("\n")}function Ht(e){return null!=e&&e.some(Ci)}var xi=C(9437),je=C(469),Wt=C(3310),Yt=C(7157);class Ke extends Yt.x{get response(){return this._response?Ri(this._response):void 0}constructor(t){super(t),this.constructor=Ke,Object.setPrototypeOf(this,Ke.prototype),t.response&&(this._response=t.response)}}const Ri=e=>({...e,headers:{...e.headers}});class Se extends Ke{constructor(t){super(t),this.constructor=Se,Object.setPrototypeOf(this,Se.prototype)}}class Oe extends Se{constructor(t={}){super({name:"CanceledError",message:"Request is canceled by user",...t}),this.constructor=Oe,Object.setPrototypeOf(this,Oe.prototype)}}const wi=e=>!!e&&e instanceof Oe;var Li=C(3814);const Xt=function(){var e=(0,N.A)(function*(t){if(!t)return;const n=yield(0,Li.F)(Pi(t));if(n){var i;const r=yield null===(i=t.body)||void 0===i?void 0:i.text();return Mi(n,{statusCode:t.statusCode,headers:t.headers,body:r})}});return function(n){return e.apply(this,arguments)}}(),Pi=e=>{let t;const n=new Proxy(e.body,{get:(r,o,s)=>"json"===o?(0,N.A)(function*(){t||(t=r.text());try{return JSON.parse(yield t)}catch{return{}}}):"text"===o?(0,N.A)(function*(){return t||(t=r.text()),t}):Reflect.get(r,o,s)});return new Proxy(e,{get:(r,o,s)=>"body"===o?n:Reflect.get(r,o,s)})},Mi=(e,t)=>{const n=new Se({name:null==e?void 0:e.name,message:e.message,underlyingError:e,response:t});return Object.assign(n,{$metadata:e.$metadata})};var Ve=C(4087);const dt=new Ve.C("RestApis");var Ui=C(5541),$i=C(5271),ji=C(6312);const Zt=e=>Object.keys(e).map(t=>t.toLowerCase()).sort().join(";"),Gi="X-Amz-Date".toLowerCase(),zi="X-Amz-Security-Token".toLowerCase(),en="aws4_request",tn="AWS4-HMAC-SHA256";var Zi=C(1303),er=C(5995);const Ne=(e,t)=>{const n=new Zi.I(null!=e?e:void 0);return n.update(t),n.digestSync()},pt=(e,t)=>{const n=Ne(e,t);return(0,er.n)(n)},tr=e=>Object.entries(e).map(([t,n])=>{var i;return{key:t.toLowerCase(),value:null!==(i=null==n?void 0:n.trim().replace(/\s+/g," "))&&void 0!==i?i:""}}).sort((t,n)=>t.key<n.key?-1:1).map(t=>`${t.key}:${t.value}\n`).join(""),nr=e=>Array.from(e).sort(([t,n],[i,r])=>t===i?n<r?-1:1:t<i?-1:1).map(([t,n])=>`${nn(t)}=${nn(n)}`).join("&"),nn=e=>encodeURIComponent(e).replace(/[!'()*]/g,ir),ir=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,rr=(e,t=!0)=>e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/",or=e=>null==e?"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855":sr(e)?pt(null,e):"UNSIGNED-PAYLOAD",sr=e=>"string"==typeof e||ArrayBuffer.isView(e)||ar(e),ar=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),rn=(e,t)=>{const n=(({credentials:e,signingDate:t=new Date,signingRegion:n,signingService:i,uriEscapePath:r=!0})=>{const{accessKeyId:o,secretAccessKey:s,sessionToken:a}=e,{longDate:c,shortDate:u}=(e=>{const t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}})(t),l=((e,t,n)=>`${e}/${t}/${n}/${en}`)(u,n,i);return{accessKeyId:o,credentialScope:l,longDate:c,secretAccessKey:s,sessionToken:a,shortDate:u,signingRegion:n,signingService:i,uriEscapePath:r}})(t),{accessKeyId:i,credentialScope:r,longDate:o,sessionToken:s}=n,a={...e.headers};a.host=e.url.host,a[Gi]=o,s&&(a[zi]=s);const c={...e,headers:a},u=((e,{credentialScope:t,longDate:n,secretAccessKey:i,shortDate:r,signingRegion:o,signingService:s,uriEscapePath:a})=>{const c=(({body:e,headers:t,method:n,url:i},r=!0)=>[n,rr(i.pathname,r),nr(i.searchParams),tr(t),Zt(t),or(e)].join("\n"))(e,a),l=((e,t,n)=>[tn,e,t,n].join("\n"))(n,t,pt(null,c));return pt(((e,t,n,i)=>{const o=Ne(`AWS4${e}`,t),s=Ne(o,n),a=Ne(s,i);return Ne(a,en)})(i,r,o,s),l)})(c,n),l=`Credential=${i}/${r}`,d=`SignedHeaders=${Zt(a)}`;return a.authorization=`${tn} ${l}, ${d}, Signature=${u}`,c},on=e=>new Date(Date.now()+e);var yr=C(1550),gr=C(523),Er=C(5319);const Ar=(0,gr.q)(Er.Q,[yr.L,ji.b,({credentials:e,region:t,service:n,uriEscapePath:i=!0})=>{let r;return o=>function(){var s=(0,N.A)(function*(c){var u;r=null!==(u=r)&&void 0!==u?u:0;const l={credentials:"function"==typeof e?yield e():e,signingDate:on(r),signingRegion:t,signingService:n,uriEscapePath:i},d=yield rn(c,l),p=yield o(d),f=(({headers:e}={})=>{var t,n;return null!==(t=null!==(n=null==e?void 0:e.date)&&void 0!==n?n:null==e?void 0:e.Date)&&void 0!==t?t:null==e?void 0:e["x-amz-date"]})(p);return f&&(r=((e,t)=>((e,t)=>Math.abs(on(t).getTime()-e)>=3e5)(e,t)?e-Date.now():t)(Date.parse(f),r)),p});return function a(c){return s.apply(this,arguments)}}()}]);var Tr=C(326);const sn="execute-api",Sr="us-east-1",Or=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,Ir=function(){var e=(0,N.A)(function*(t,n,i){const{url:r,method:o,headers:s,body:a,withCredentials:c,abortSignal:u}=n,l=a?a instanceof FormData?a:JSON.stringify(null!=a?a:""):void 0,d=((e,t)=>{const n={};for(const i in e)n[i.toLowerCase()]=e[i];return t&&(n["content-type"]="application/json; charset=UTF-8",t instanceof FormData&&delete n["content-type"]),n})(s,a),p={url:r,headers:d,method:o,body:l},f={retryDecider:(0,Ui.D)(Xt),computeDelay:$i.y,withCrossDomainCredentials:c,abortSignal:u},h=_r(p,i);let m;const g=yield Dr(t);if(h&&g){var y,A;const T=((e,t)=>{var r;const{service:o=sn,region:s=Sr}=(void 0,{}),{hostname:a}=e,[,c,u]=null!==(r=Or.exec(a))&&void 0!==r?r:[];return c===sn?{service:c,region:null!=u?u:s}:"appsync-api"===c?{service:"appsync",region:null!=u?u:s}:{service:o,region:s}})(r),b=null!==(y=null==i?void 0:i.service)&&void 0!==y?y:T.service,S=null!==(A=null==i?void 0:i.region)&&void 0!==A?A:T.region;m=yield Ar(p,{...f,credentials:g,region:S,service:b})}else m=yield(0,Tr.F)(p,{...f});return{statusCode:m.statusCode,headers:m.headers,body:m.body}});return function(n,i,r){return e.apply(this,arguments)}}(),_r=({headers:e},t)=>!e.authorization&&!e["x-api-key"]&&!!t,Dr=function(){var e=(0,N.A)(function*(t){try{const{credentials:n}=yield t.Auth.fetchAuthSession();if(n)return n}catch{dt.debug("No credentials available, the request will be unsigned.")}return null});return function(n){return e.apply(this,arguments)}}(),ft=new WeakMap,kr=(e,{url:t,options:n,abortController:i})=>{const r=null!=i?i:new AbortController,s=function Fi(e,t){const n=c=>!!t,i=new AbortController,r=i.signal,o=null==t?void 0:t.signal;let s;const a=function(){var c=(0,N.A)(function*(){try{const l=yield n()?e():e(r);if(l.statusCode>=300)throw yield Xt(l);return l}catch(l){var u;const d=null!=o?o:r,p=null!==(u=s)&&void 0!==u?u:d.reason;if("AbortError"===l.name||!0===(null==d?void 0:d.aborted)){const f=new Oe({...p&&{message:p},underlyingError:l,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw dt.debug(l),f}throw dt.debug(l),l}});return function(){return c.apply(this,arguments)}}();if(n())return a();{const c=u=>{!0!==r.aborted&&(i.abort(u),u&&r.reason!==u&&(s=u))};return{response:a(),cancel:c}}}((0,N.A)(function*(){return Ir(e,{url:t,method:"POST",...n,abortSignal:r.signal},null==n?void 0:n.signingServiceInfo)}),r).finally(()=>{ft.delete(s)});return s},Cr=(e,t)=>{const n=ft.get(e);return!!n&&(n.abort(t),t&&n.signal.reason!==t&&(n.signal.reason=t),!0)},xr=(e,t)=>{ft.set(e,t)};var be=C(1985),ht=C(1395),an=C(3983);const cn=e=>((e,t)=>e.Auth.fetchAuthSession(t))(an.H,e),un={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Qe;const wr=new Uint8Array(16);function Lr(){if(!Qe&&(Qe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qe(wr)}const $=[];for(let e=0;e<256;++e)$.push((e+256).toString(16).slice(1));const Mr=function Pr(e,t,n){if(un.randomUUID&&!t&&!e)return un.randomUUID();const i=(e=e||{}).random||(e.rng||Lr)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let r=0;r<16;++r)t[n+r]=i[r];return t}return function ln(e,t=0){return $[e[t+0]]+$[e[t+1]]+$[e[t+2]]+$[e[t+3]]+"-"+$[e[t+4]]+$[e[t+5]]+"-"+$[e[t+6]]+$[e[t+7]]+"-"+$[e[t+8]]+$[e[t+9]]+"-"+$[e[t+10]]+$[e[t+11]]+$[e[t+12]]+$[e[t+13]]+$[e[t+14]]+$[e[t+15]]}(i)};var Fr=C(1208);const dn=e=>e&&e.nonRetryable;var Ur=C(3388);const pn={convert(e,{urlSafe:t}={urlSafe:!1}){const n="string"==typeof e?e:function $r(e){return Array.from(e,t=>String.fromCodePoint(t)).join("")}(e),i=(0,Ur.xA)()(n);return t?i.replace(/\+/g,"-").replace(/\//g,"_"):i}};var jr=C(8045),Kr=C(5013);const Be=new Ve.C("retryUtil");function vt(){return vt=(0,N.A)(function*(e,t,n,i){if("function"!=typeof e)throw Error("functionToRetry must be a function");return new Promise(function(){var r=(0,N.A)(function*(o,s){let u,d,a=0,c=!1,l=()=>{};for(i&&i.then(()=>{c=!0,clearTimeout(u),l()});!c;){a++,Be.debug(`${e.name} attempt #${a} with this vars: ${JSON.stringify(t)}`);try{return void o(yield e(...t))}catch(p){if(d=p,Be.debug(`error on ${e.name}`,p),dn(p))return Be.debug(`${e.name} non retryable error`,p),void s(p);const f=n(a,t,p);if(Be.debug(`${e.name} retrying in ${f} ms`),!1===f||c)return void s(p);yield new Promise(h=>{l=h,u=setTimeout(l,f)})}}s(d)});return function(o,s){return r.apply(this,arguments)}}())}),vt.apply(this,arguments)}const Qr=(e,t,n=jr.M,i)=>function Vr(e,t,n,i){return vt.apply(this,arguments)}(e,t,(0,Kr.y)(n),i);class Br extends Error{constructor(){super(...arguments),this.nonRetryable=!0}}var Y=function(e){return e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect",e}(Y||{}),j=function(e){return e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive",e}(j||{});const zr=[400,401,403];var J=function(e){return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error",e}(J||{}),se=function(e){return e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED",e}(se||{}),q=function(e){return e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING",e}(q||{});const Hr={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},hn=3e5;var mt=C(6354),Zr=C(5964),eo=C(6648);let no=(()=>{class e{networkMonitor(n){const i=(()=>{if(typeof self>"u")return!1;const e=self;return typeof e.WorkerGlobalScope<"u"&&self instanceof e.WorkerGlobalScope})()?self:typeof window<"u"&&window;return i?new be.c(r=>{r.next({online:i.navigator.onLine});const o=()=>{r.next({online:!0})},s=()=>{r.next({online:!1})};return i.addEventListener("online",o),i.addEventListener("offline",s),e._observers.push(r),()=>{i.removeEventListener("online",o),i.removeEventListener("offline",s),e._observers=e._observers.filter(a=>a!==r)}}):(0,eo.H)([{online:!0}])}static _observerOverride(n){for(const i of this._observers)i.closed?this._observers=this._observers.filter(r=>r!==i):null!=i&&i.next&&i.next(n)}}return e._observers=[],e})();const vn=()=>(new no).networkMonitor(),K={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class io{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=vn().subscribe(({online:t})=>{var n;this.record(t?K.ONLINE:K.OFFLINE),null===(n=this._initialNetworkStateSubscription)||void 0===n||n.unsubscribe()}),this._linkedConnectionStateObservable=new be.c(t=>{t.next(this._linkedConnectionState),this._linkedConnectionStateObserver=t})}enableNetworkMonitoring(){var t;null===(t=this._initialNetworkStateSubscription)||void 0===t||t.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=vn().subscribe(({online:n})=>{this.record(n?K.ONLINE:K.OFFLINE)}))}disableNetworkMonitoring(){var t;null===(t=this._networkMonitoringSubscription)||void 0===t||t.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){let t;return this._linkedConnectionStateObservable.pipe((0,mt.T)(n=>this.connectionStatesTranslator(n))).pipe((0,Zr.p)(n=>{const i=n!==t;return t=n,i}))}record(t){var n;"connected"===t.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===t.intendedConnectionState&&this.disableNetworkMonitoring();const i={...this._linkedConnectionState,...t};this._linkedConnectionState={...i},null===(n=this._linkedConnectionStateObserver)||void 0===n||n.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:t,networkState:n,intendedConnectionState:i,keepAliveState:r}){return"connected"===t&&"disconnected"===n?j.ConnectedPendingNetwork:"connected"===t&&"disconnected"===i?j.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===i&&"disconnected"===n?j.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===i?j.ConnectionDisrupted:"connected"===t&&"unhealthy"===r?j.ConnectedPendingKeepAlive:"connecting"===t?j.Connecting:"disconnected"===t?j.Disconnected:j.Connected}}var Ie=function(e){return e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT",e}(Ie||{});class ro{constructor(){this.reconnectObservers=[]}addObserver(t){this.reconnectObservers.push(t)}record(t){t===Ie.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout(()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval(()=>{this._triggerReconnect()},6e4)},5e3)),t===Ie.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach(t=>{var n;null===(n=t.complete)||void 0===n||n.call(t)})}_triggerReconnect(){this.reconnectObservers.forEach(t=>{var n;null===(n=t.next)||void 0===n||n.call(t)})}}const R=new Ve.C("AWSAppSyncRealTimeProvider"),mn=e=>{ht.YZ.dispatch("api",e,"PubSub",ht.U9)},oo=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i;class ao{constructor(){this.socketStatus=q.CLOSED,this.keepAliveTimeout=hn,this.subscriptionObserverMap=new Map,this.promiseArray=[],this.connectionStateMonitor=new io,this.reconnectionMonitor=new ro,this.connectionStateMonitorSubscription=this.connectionStateMonitor.connectionStateObservable.subscribe(t=>{mn({event:"ConnectionStateChange",data:{provider:this,connectionState:t},message:`Connection state is ${t}`}),this.connectionState=t,t===j.ConnectionDisrupted&&this.reconnectionMonitor.record(Ie.START_RECONNECT),[j.Connected,j.ConnectedPendingDisconnect,j.ConnectedPendingKeepAlive,j.ConnectedPendingNetwork,j.ConnectionDisruptedPendingNetwork,j.Disconnected].includes(t)&&this.reconnectionMonitor.record(Ie.HALT_RECONNECT)})}close(){this.socketStatus=q.CLOSED,this.connectionStateMonitor.record(K.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()}getNewWebSocket(t,n){return new WebSocket(t,n)}getProviderName(){return"AWSAppSyncRealTimeProvider"}isCustomDomain(t){return null===t.match(oo)}subscribe(t,n){var i=this;const{appSyncGraphqlEndpoint:r,region:o,query:s,variables:a,authenticationType:c,additionalHeaders:u,apiKey:l,authToken:d,libraryConfigHeaders:p}=t||{};return new be.c(f=>{if(t&&r){let h=!1;const m=Mr(),g=()=>{h||(h=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:{query:s,variables:a,region:o,authenticationType:c,appSyncGraphqlEndpoint:r,additionalHeaders:u,apiKey:l,authToken:d,libraryConfigHeaders:p},observer:f,subscriptionId:m,customUserAgentDetails:n}).catch(T=>{R.debug(`${Y.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${T}`),this.connectionStateMonitor.record(K.CLOSED)}).finally(()=>{h=!1}))},y=new be.c(A=>{this.reconnectionMonitor.addObserver(A)}).subscribe(()=>{g()});return g(),(0,N.A)(function*(){null==y||y.unsubscribe();try{yield i._waitForSubscriptionToBeConnected(m);const{subscriptionState:A}=i.subscriptionObserverMap.get(m)||{};if(!A)return;if(A!==se.CONNECTED)throw new Error("Subscription never connected");i._sendUnsubscriptionMessage(m)}catch(A){R.debug(`Error while unsubscribing ${A}`)}finally{i._removeSubscriptionObserver(m)}})}f.error({errors:[{...new Ee("Subscribe only available for AWS AppSync endpoint")}]}),f.complete()})}_startSubscriptionWithAWSAppSyncRealTime({options:t,observer:n,subscriptionId:i,customUserAgentDetails:r}){var o=this;return(0,N.A)(function*(){var s;const{appSyncGraphqlEndpoint:a,authenticationType:c,query:u,variables:l,apiKey:d,region:p,libraryConfigHeaders:f=(()=>({})),additionalHeaders:h={},authToken:m}=t;let g={};g="function"==typeof h?yield h({url:a||"",queryString:u||""}):h,m&&(g={...g,Authorization:m});const y=se.PENDING,A={query:u,variables:l};o.subscriptionObserverMap.set(i,{observer:n,query:null!=u?u:"",variables:null!=l?l:{},subscriptionState:y,startAckTimeoutId:void 0});const T=JSON.stringify(A),b={...yield o._awsRealTimeHeaderBasedAuth({apiKey:d,appSyncGraphqlEndpoint:a,authenticationType:c,payload:T,canonicalUri:"",region:p,additionalCustomHeaders:g}),...yield f(),...g,[Fr.YJ]:(0,Wt.fE)(r)},S={id:i,payload:{data:T,extensions:{authorization:{...b}}},type:J.GQL_START},D=JSON.stringify(S);try{o.connectionStateMonitor.record(K.OPENING_CONNECTION),yield o._initializeWebSocketConnection({apiKey:d,appSyncGraphqlEndpoint:a,authenticationType:c,region:p,additionalCustomHeaders:g})}catch(I){return void o._logStartSubscriptionError(i,n,I)}const{subscriptionFailedCallback:x,subscriptionReadyCallback:_}=null!==(s=o.subscriptionObserverMap.get(i))&&void 0!==s?s:{};o.subscriptionObserverMap.set(i,{observer:n,subscriptionState:y,query:null!=u?u:"",variables:null!=l?l:{},subscriptionReadyCallback:_,subscriptionFailedCallback:x,startAckTimeoutId:setTimeout(()=>{o._timeoutStartSubscriptionAck(i)},15e3)}),o.awsRealTimeSocket&&o.awsRealTimeSocket.send(D)})()}_logStartSubscriptionError(t,n,i){var r;R.debug({err:i});const o=String(null!==(r=i.message)&&void 0!==r?r:"");if(this.connectionStateMonitor.record(K.CLOSED),this.connectionState!==j.ConnectionDisruptedPendingNetwork){dn(i)?n.error({errors:[{...new Ee(`${Y.CONNECTION_FAILED}: ${o}`)}]}):R.debug(`${Y.CONNECTION_FAILED}: ${o}`);const{subscriptionFailedCallback:s}=this.subscriptionObserverMap.get(t)||{};"function"==typeof s&&s()}}_waitForSubscriptionToBeConnected(t){var n=this;return(0,N.A)(function*(){const i=n.subscriptionObserverMap.get(t);if(i){const{subscriptionState:r}=i;if(r===se.PENDING)return new Promise((o,s)=>{const{observer:a,subscriptionState:c,variables:u,query:l}=i;n.subscriptionObserverMap.set(t,{observer:a,subscriptionState:c,variables:u,query:l,subscriptionReadyCallback:o,subscriptionFailedCallback:s})})}})()}_sendUnsubscriptionMessage(t){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===q.READY){const i=JSON.stringify({id:t,type:J.GQL_STOP});this.awsRealTimeSocket.send(i)}}catch(n){R.debug({err:n})}}_removeSubscriptionObserver(t){this.subscriptionObserverMap.delete(t),setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket)return void(this.socketStatus=q.CLOSED);if(this.connectionStateMonitor.record(K.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{R.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);const t=this.awsRealTimeSocket;t.onclose=null,t.onerror=null,t.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=q.CLOSED,this.connectionStateMonitor.record(K.CLOSED)}}}_handleIncomingSubscriptionMessage(t){if("string"!=typeof t.data)return;R.debug(`subscription message from AWS AppSync RealTime: ${t.data}`);const{id:n="",payload:i,type:r}=JSON.parse(String(t.data)),{observer:o=null,query:s="",variables:a={},startAckTimeoutId:c,subscriptionReadyCallback:u,subscriptionFailedCallback:l}=this.subscriptionObserverMap.get(n)||{};if(R.debug({id:n,observer:o,query:s,variables:a}),r===J.GQL_DATA&&i&&i.data)o?o.next(i):R.debug(`observer not found for id: ${n}`);else{if(r===J.GQL_START_ACK)return R.debug(`subscription ready for ${JSON.stringify({query:s,variables:a})}`),"function"==typeof u&&u(),c&&clearTimeout(c),mn({event:Y.SUBSCRIPTION_ACK,data:{query:s,variables:a},message:"Connection established for subscription"}),o&&this.subscriptionObserverMap.set(n,{observer:o,query:s,variables:a,startAckTimeoutId:void 0,subscriptionState:se.CONNECTED,subscriptionReadyCallback:u,subscriptionFailedCallback:l}),void this.connectionStateMonitor.record(K.CONNECTION_ESTABLISHED);if(r===J.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout(()=>{this._errorDisconnect(Y.TIMEOUT_DISCONNECT)},this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout(()=>{this.connectionStateMonitor.record(K.KEEP_ALIVE_MISSED)},65e3),void this.connectionStateMonitor.record(K.KEEP_ALIVE);r===J.GQL_ERROR&&o&&(this.subscriptionObserverMap.set(n,{observer:o,query:s,variables:a,startAckTimeoutId:c,subscriptionReadyCallback:u,subscriptionFailedCallback:l,subscriptionState:se.FAILED}),R.debug(`${Y.CONNECTION_FAILED}: ${JSON.stringify(i)}`),o.error({errors:[{...new Ee(`${Y.CONNECTION_FAILED}: ${JSON.stringify(i)}`)}]}),c&&clearTimeout(c),"function"==typeof l&&l())}}_errorDisconnect(t){R.debug(`Disconnect error: ${t}`),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(K.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=q.CLOSED}_timeoutStartSubscriptionAck(t){const n=this.subscriptionObserverMap.get(t);if(n){const{observer:i,query:r,variables:o}=n;if(!i)return;this.subscriptionObserverMap.set(t,{observer:i,query:r,variables:o,subscriptionState:se.FAILED}),this.connectionStateMonitor.record(K.CLOSED),R.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:o}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:t,authenticationType:n,apiKey:i,region:r,additionalCustomHeaders:o}){var s=this;if(this.socketStatus!==q.READY)return new Promise(function(){var a=(0,N.A)(function*(c,u){if(s.promiseArray.push({res:c,rej:u}),s.socketStatus===q.CLOSED)try{s.socketStatus=q.CONNECTING;const l="{}",d=yield s._awsRealTimeHeaderBasedAuth({authenticationType:n,payload:l,canonicalUri:"/connect",apiKey:i,appSyncGraphqlEndpoint:t,region:r,additionalCustomHeaders:o}),p=d?JSON.stringify(d):"",f=pn.convert(p),h=pn.convert(l);let m=null!=t?t:"";m=s.isCustomDomain(m)?m.concat("/realtime"):m.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta");const g="wss://";m=m.replace("https://",g).replace("http://",g);const y=`${m}?header=${f}&payload=${h}`;yield s._initializeRetryableHandshake(y),s.promiseArray.forEach(({res:A})=>{R.debug("Notifying connection successful"),A()}),s.socketStatus=q.READY,s.promiseArray=[]}catch(l){R.debug("Connection exited with",l),s.promiseArray.forEach(({rej:d})=>{d(l)}),s.promiseArray=[],s.awsRealTimeSocket&&s.awsRealTimeSocket.readyState===WebSocket.OPEN&&s.awsRealTimeSocket.close(3001),s.awsRealTimeSocket=void 0,s.socketStatus=q.CLOSED}});return function(c,u){return a.apply(this,arguments)}}())}_initializeRetryableHandshake(t){var n=this;return(0,N.A)(function*(){R.debug("Initializaling retryable Handshake"),yield Qr(n._initializeHandshake.bind(n),[t],5e3)})()}_initializeHandshake(t){var n=this;return(0,N.A)(function*(){R.debug(`Initializing handshake ${t}`);try{yield new Promise((i,r)=>{const o=n.getNewWebSocket(t,"graphql-ws");o.onerror=()=>{R.debug("WebSocket connection error")},o.onclose=()=>{r(new Error("Connection handshake error"))},o.onopen=()=>{n.awsRealTimeSocket=o,i()}}),yield new Promise((i,r)=>{if(n.awsRealTimeSocket){let o=!1;n.awsRealTimeSocket.onerror=c=>{R.debug(`WebSocket error ${JSON.stringify(c)}`)},n.awsRealTimeSocket.onclose=c=>{R.debug(`WebSocket closed ${c.reason}`),r(new Error(JSON.stringify(c)))},n.awsRealTimeSocket.onmessage=c=>{if("string"!=typeof c.data)return;R.debug(`subscription message from AWS AppSyncRealTime: ${c.data} `);const u=JSON.parse(c.data),{type:l,payload:{connectionTimeoutMs:d=hn}={}}=u;if(l===J.GQL_CONNECTION_ACK)return o=!0,n.awsRealTimeSocket&&(n.keepAliveTimeout=d,n.awsRealTimeSocket.onmessage=n._handleIncomingSubscriptionMessage.bind(n),n.awsRealTimeSocket.onerror=p=>{R.debug(p),n._errorDisconnect(Y.CONNECTION_CLOSED)},n.awsRealTimeSocket.onclose=p=>{R.debug(`WebSocket closed ${p.reason}`),n._errorDisconnect(Y.CONNECTION_CLOSED)}),void i("Cool, connected to AWS AppSyncRealTime");if(l===J.GQL_CONNECTION_ERROR){const{payload:{errors:[{errorType:p="",errorCode:f=0}={}]=[]}={}}=u;r({errorType:p,errorCode:f})}},n.awsRealTimeSocket.send(JSON.stringify({type:J.GQL_CONNECTION_INIT}));const a=c=>{c||(n.connectionStateMonitor.record(K.CONNECTION_FAILED),r(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))};setTimeout(()=>{a(o)},15e3)}})}catch(i){const{errorType:r,errorCode:o}=i;throw zr.includes(o)?new Br(r):r?new Error(r):i}})()}_awsRealTimeHeaderBasedAuth({apiKey:t,authenticationType:n,payload:i,canonicalUri:r,appSyncGraphqlEndpoint:o,region:s,additionalCustomHeaders:a}){var c=this;return(0,N.A)(function*(){const u={apiKey:c._awsRealTimeApiKeyHeader.bind(c),iam:c._awsRealTimeIAMHeader.bind(c),oidc:c._awsAuthTokenHeader.bind(c),userPool:c._awsAuthTokenHeader.bind(c),lambda:c._customAuthHeader,none:c._customAuthHeader};if(n&&u[n]){const l=u[n],d=o?new je.o(o).host:void 0;let p;return R.debug(`Authenticating with ${JSON.stringify(n)}`),"apiKey"===n&&(p=t),yield l({payload:i,canonicalUri:r,appSyncGraphqlEndpoint:o,apiKey:p,region:s,host:d,additionalCustomHeaders:a})}R.debug(`Authentication type ${n} not supported`)})()}_awsAuthTokenHeader({host:t}){return(0,N.A)(function*(){var n;const i=yield cn();return{Authorization:null==i||null===(n=i.tokens)||void 0===n||null===(n=n.accessToken)||void 0===n?void 0:n.toString(),host:t}})()}_awsRealTimeApiKeyHeader({apiKey:t,host:n}){return(0,N.A)(function*(){const r=(new Date).toISOString().replace(/[:-]|\.\d{3}/g,"");return{host:n,"x-amz-date":r,"x-api-key":t}})()}_awsRealTimeIAMHeader({payload:t,canonicalUri:n,appSyncGraphqlEndpoint:i,region:r}){return(0,N.A)(function*(){const o={region:r,service:"appsync"},s=(yield cn()).credentials,a={url:`${i}${n}`,data:t,method:"POST",headers:{...Hr}};return rn({headers:a.headers,method:a.method,url:new je.o(a.url),body:a.data},{credentials:s,signingRegion:o.region,signingService:o.service}).headers})()}_customAuthHeader({host:t,additionalCustomHeaders:n}){if(null==n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}}}class X extends Yt.x{constructor(t){super(t),this.constructor=X,Object.setPrototypeOf(this,X.prototype)}}var _e=function(e){return e.NoAuthSession="NoAuthSession",e.NoRegion="NoRegion",e.NoCustomEndpoint="NoCustomEndpoint",e}(_e||{});const co={[_e.NoAuthSession]:{message:"Auth session should not be empty."},[_e.NoRegion]:{message:"Missing region."},[_e.NoCustomEndpoint]:{message:"Custom endpoint region is present without custom endpoint."}},lo=new Ve.C("GraphQLAPI resolveConfig"),yt=e=>{var t,n,i;const r=e.getConfig();null!==(t=r.API)&&void 0!==t&&t.GraphQL||lo.warn("The API configuration is missing. This is likely due to Amplify.configure() not being called prior to generateClient().");const{apiKey:o,customEndpoint:s,customEndpointRegion:a,defaultAuthMode:c,endpoint:u,region:l}=null!==(n=null===(i=r.API)||void 0===i?void 0:i.GraphQL)&&void 0!==n?n:{};return function uo(e,t){const{message:n,recoverySuggestion:i}=co[t];if(!e)throw new X({name:t,message:n,recoverySuggestion:i})}(!(!s&&a),_e.NoCustomEndpoint),{apiKey:o,customEndpoint:s,customEndpointRegion:a,defaultAuthMode:c,endpoint:u,region:l}},yn=e=>{var t,n;return{headers:null===(t=e.libraryOptions)||void 0===t||null===(t=t.API)||void 0===t||null===(t=t.GraphQL)||void 0===t?void 0:t.headers,withCredentials:null===(n=e.libraryOptions)||void 0===n||null===(n=n.API)||void 0===n||null===(n=n.GraphQL)||void 0===n?void 0:n.withCredentials}};function gn(e){return e.errors&&Array.isArray(e.errors)&&e.errors.forEach(t=>{(function po(e){var t,n,i;return!!(null!=e&&null!==(t=e.originalError)&&void 0!==t&&null!==(t=t.name)&&void 0!==t&&t.startsWith("UnauthorizedException")||null!==(n=e.message)&&void 0!==n&&n.startsWith("Connection failed:")&&null!==(i=e.message)&&void 0!==i&&i.includes("Permission denied"))})(t)&&(t.message="Unauthorized",t.recoverySuggestion="If you're calling an Amplify-generated API, make sure to set the \"authMode\" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')")}),e}var ue=function(e){return e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified",e}(ue||{});const En=Symbol("amplify"),An=Symbol("authMode"),Tn=Symbol("authToken"),Sn=Symbol("headers");function gt(e){return{amplify:e[En],authMode:e[An],authToken:e[Tn],headers:e[Sn]}}const fo={name:"NoApiKey",message:ue.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},ho={name:"NoCredentials",message:ue.NO_CREDENTIALS,recoverySuggestion:'The API request was made with `authMode: "iam"` but no authentication credentials are available.\n\nIf you intended to make a request using an authenticated role, review if your user is signed in before making the request.\n\nIf you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the `Amplify.configure()` function.'},vo={name:"NoValidAuthTokens",message:ue.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},mo={name:"NoSignedUser",message:ue.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},yo={name:"NoAuthorizationHeader",message:ue.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'},go={name:"NoEndpoint",message:"No GraphQL endpoint configured in `Amplify.configure()`.",recoverySuggestion:"Review if the GraphQL API endpoint is set in the `Amplify.configure()` function."},On=e=>({data:{},errors:[new Ee(e.message,null,null,null,null,e)]});class Nn{constructor(){this.appSyncRealTime=new ao,this._api={post:kr,cancelREST:Cr,isCancelErrorREST:wi,updateRequestToBeCancellable:xr}}getModuleName(){return"InternalGraphQLAPI"}_headerBasedAuth(t,n,i={}){return(0,N.A)(function*(){const{apiKey:r}=yt(t);let o={};switch(n){case"apiKey":if(!r)throw new X(fo);o={"X-Api-Key":r};break;case"iam":if(void 0===(yield t.Auth.fetchAuthSession()).credentials)throw new X(ho);break;case"oidc":case"userPool":{let a;try{var s;a=null===(s=(yield t.Auth.fetchAuthSession()).tokens)||void 0===s?void 0:s.accessToken.toString()}catch(c){throw new X({...mo,underlyingError:c})}if(!a)throw new X(vo);o={Authorization:a};break}case"lambda":if("object"==typeof i&&!i.Authorization)throw new X(yo);o={Authorization:i.Authorization}}return o})()}getGraphqlOperationType(t){const i=at(t).definitions,[{operation:r}]=i;return r}graphql(t,{query:n,variables:i={},authMode:r,authToken:o},s,a){var c=this;const u=at("string"==typeof n?n:Te(n)),[l={}]=u.definitions.filter(f=>"OperationDefinition"===f.kind),{operation:d}=l,p=s||{};switch(d){case"query":case"mutation":{const f=new AbortController;let h;return h="function"!=typeof t?this._graphql(t,{query:u,variables:i,authMode:r},p,f,a,o):t(function(){var g=(0,N.A)(function*(y){return yield c._graphql(y,{query:u,variables:i,authMode:r},p,f,a,o)});return function(A){return g.apply(this,arguments)}}()),this._api.updateRequestToBeCancellable(h,f),h}case"subscription":return this._graphqlSubscribe(t,{query:u,variables:i,authMode:r},p,a,o);default:throw new Error(`invalid operation type: ${d}`)}}_graphql(t,{query:n,variables:i,authMode:r},o={},s,a,c){var u=this;return(0,N.A)(function*(){const{region:l,endpoint:d,customEndpoint:p,customEndpointRegion:f,defaultAuthMode:h}=yt(t),m=r||h||"iam",g="identityPool"===m?"iam":m,{headers:y,withCredentials:A}=yn(t);let T;if("function"==typeof o){const I={method:"POST",url:new je.o(p||d||"").toString(),queryString:Te(n)};T=yield o(I)}else T=o;c&&(T={...T,Authorization:c});const b={...!p&&(yield u._headerBasedAuth(t,g,T)),...p&&(f?yield u._headerBasedAuth(t,g,T):{})||{},...y&&(yield y({query:Te(n),variables:i})),...T,...!p&&{"x-amz-user-agent":(0,Wt.fE)(a)}},S={query:Te(n),variables:i||null};let D;D=p&&!f||"oidc"!==g&&"userPool"!==g&&"iam"!==g&&"lambda"!==g?void 0:{service:f?"execute-api":"appsync",region:f||l};const x=p||d;if(!x)throw On(new X(go));let _;try{const{body:I}=yield u._api.post(t,{url:new je.o(x),options:{headers:b,body:S,signingServiceInfo:D,withCredentials:A},abortController:s});_=yield I.json()}catch(I){if(u.isCancelError(I))throw I;_=On(I)}if(function Eo(e){if(!e)return!1;const t=e;return Array.isArray(t.errors)&&t.errors.length>0}(_))throw gn(_);return _})()}isCancelError(t){return this._api.isCancelErrorREST(t)}cancel(t,n){return this._api.cancelREST(t,n)}_graphqlSubscribe(t,{query:n,variables:i,authMode:r},o={},s,a){const c=yt(t),u=r||(null==c?void 0:c.defaultAuthMode)||"iam",l="identityPool"===u?"iam":u,{headers:d}=yn(t);return this.appSyncRealTime.subscribe({query:Te(n),variables:i,appSyncGraphqlEndpoint:null==c?void 0:c.endpoint,region:null==c?void 0:c.region,authenticationType:l,apiKey:null==c?void 0:c.apiKey,additionalHeaders:o,authToken:a,libraryConfigHeaders:d},s).pipe((0,xi.W)(p=>{throw p.errors?gn(p):p}))}}new Nn;const V=(e,t={},n)=>({query:e,variables:t,authToken:n}),Et=new class So extends Nn{getModuleName(){return"GraphQLAPI"}graphql(t,n,i){return super.graphql(t,n,i,{category:Ct.b7.API,action:Ct.Fu.GraphQl})}isCancelError(t){return super.isCancelError(t)}cancel(t,n){return super.cancel(t,n)}};function At(e){const t=new Set;for(const n of e.attributes||[])if(Oo(n))for(const i of n.properties.rules)"owner"===i.allow?t.add(i.ownerField||"owner"):"groups"===i.allow&&void 0!==i.groupsField&&t.add(i.groupsField);return Array.from(t)}function Oo(e){var t,n;return!("auth"!==(null==e?void 0:e.type)||"object"!=typeof(null==e?void 0:e.properties)||!Array.isArray(null==e||null===(t=e.properties)||void 0===t?void 0:t.rules))&&(null==e||null===(n=e.properties)||void 0===n?void 0:n.rules).every(i=>!!i.allow)}function Ge(e){return`${e[0].toUpperCase()}${e.slice(1)}`}Symbol();const le={HAS_ONE:"HAS_ONE",HAS_MANY:"HAS_MANY",BELONGS_TO:"BELONGS_TO"},bn={ID:"ID",String:"String",AWSDate:"String",AWSTime:"String",AWSDateTime:"String",AWSTimestamp:"String",AWSEmail:"String",AWSPhone:"String",AWSURL:"String",AWSIPAddress:"String",AWSJSON:"String",Boolean:"Boolean",Int:"Int",Float:"Float"},ze=e=>1===e.length?e[0]:e.reduce((t,n,i)=>0===i?n:t+Ge(n),""),re=(e,t,n)=>{if(!n)return null;const i={};for(const[o,s]of Object.entries(n)){var r;const a=t?null===(r=e.models[t])||void 0===r?void 0:r.fields[o]:void 0,c={fieldDef:a,value:s};i[o]=No(c)?c.value.items.map(u=>re(e,c.fieldDef.type.model,u)):bo(a)?re(e,a.type.model,s):s}return i};function No(e){var t,n;return"object"==typeof(null===(t=e.fieldDef)||void 0===t?void 0:t.type)&&"model"in e.fieldDef.type&&"string"==typeof e.fieldDef.type.model&&e.fieldDef.isArray&&Array.isArray(null===(n=e.value)||void 0===n?void 0:n.items)}function bo(e){return"object"==typeof(null==e?void 0:e.type)&&"model"in e.type&&"string"==typeof e.type.model}function ee(e,t,n,i,r,o,s=!1){const a=i.models[t],c=a.fields,u=Object.entries(c).filter(([l,d])=>{var p;return void 0!==(null==d||null===(p=d.type)||void 0===p?void 0:p.model)}).map(([l])=>l);return n.map(l=>{const d={};for(const h of u){var p;const m=c[h],y=(null==m?void 0:m.type).model,A=i.models[y],T=A.primaryKeyInfo.primaryKeyFieldName,b=A.primaryKeyInfo.sortKeyFieldNames,S=null===(p=m.association)||void 0===p?void 0:p.connectionType;let D=[];m.association&&"associatedWith"in m.association&&(D=m.association.associatedWith);const x=[];switch(m.association&&"targetNames"in m.association&&x.push(...m.association.targetNames),S){case le.BELONGS_TO:{const _=b.reduce((I,L)=>{if(l[L])return I[L]=l[L]},{});d[h]=s?(I,L)=>l[x[0]]?e.models[y].get(I,{[T]:l[x[0]],..._},{authMode:(null==L?void 0:L.authMode)||r,authToken:(null==L?void 0:L.authToken)||o}):{data:null}:I=>l[x[0]]?e.models[y].get({[T]:l[x[0]],..._},{authMode:(null==I?void 0:I.authMode)||r,authToken:(null==I?void 0:I.authToken)||o}):{data:null};break}case le.HAS_ONE:case le.HAS_MANY:{const _=S===le.HAS_ONE?k=>({data:(null==k?void 0:k.data.shift())||null,errors:k.errors,extensions:k.extensions}):k=>k,I=a.primaryKeyInfo.primaryKeyFieldName,L=a.primaryKeyInfo.sortKeyFieldNames,ve=A.fields[D[0]];if(ve.type.model){let k=[];var f;ve.association&&"targetNames"in ve.association&&(k=null===(f=ve.association)||void 0===f?void 0:f.targetNames);const M=k.map((U,F)=>0===F?{[U]:{eq:l[I]}}:{[U]:{eq:l[L[F-1]]}});d[h]=s?(U,F)=>l[I]?e.models[y].list(U,{filter:{and:M},limit:null==F?void 0:F.limit,nextToken:null==F?void 0:F.nextToken,authMode:(null==F?void 0:F.authMode)||r,authToken:(null==F?void 0:F.authToken)||o}).then(_):[]:U=>l[I]?e.models[y].list({filter:{and:M},limit:null==U?void 0:U.limit,nextToken:null==U?void 0:U.nextToken,authMode:(null==U?void 0:U.authMode)||r,authToken:(null==U?void 0:U.authToken)||o}).then(_):[];break}const Xe=D.map((k,M)=>0===M?{[k]:{eq:l[I]}}:{[k]:{eq:l[L[M-1]]}});d[h]=s?(k,M)=>l[I]?e.models[y].list(k,{filter:{and:Xe},limit:null==M?void 0:M.limit,nextToken:null==M?void 0:M.nextToken,authMode:(null==M?void 0:M.authMode)||r,authToken:(null==M?void 0:M.authToken)||o}).then(_):[]:k=>l[I]?e.models[y].list({filter:{and:Xe},limit:null==k?void 0:k.limit,nextToken:null==k?void 0:k.nextToken,authMode:(null==k?void 0:k.authMode)||r,authToken:(null==k?void 0:k.authToken)||o}).then(_):[];break}}}return{...l,...d}})}const In={CREATE:{operationPrefix:"create",usePlural:!1},READ:{operationPrefix:"get",usePlural:!1},UPDATE:{operationPrefix:"update",usePlural:!1},DELETE:{operationPrefix:"delete",usePlural:!1},LIST:{operationPrefix:"list",usePlural:!0},INDEX_QUERY:{operationPrefix:"",usePlural:!1},ONCREATE:{operationPrefix:"onCreate",usePlural:!1},ONUPDATE:{operationPrefix:"onUpdate",usePlural:!1},ONDELETE:{operationPrefix:"onDelete",usePlural:!1},OBSERVE_QUERY:{operationPrefix:"observeQuery",usePlural:!1}},Tt="*",qe=(e,t)=>{const{fields:n}=e,i=Object.values(n).map(({type:r,name:o})=>"string"==typeof r.enum?[o,de]:"string"==typeof r.nonModel?[o,qe(t.nonModels[r.nonModel],t)]:"string"==typeof r?[o,de]:void 0).filter(r=>void 0!==r);return Object.fromEntries(i)},Io=(e,t)=>{const{fields:n}=e,i=Object.values(n).map(({type:o,name:s})=>"string"==typeof o.enum||"string"==typeof o?[s,de]:"string"==typeof o.nonModel?[s,qe(t.nonModels[o.nonModel],t)]:void 0).filter(o=>void 0!==o),r=At(e).map(o=>[o,de]);return Object.fromEntries(i.concat(r))},de="";function Do(e,t,n){const i=(r,o)=>{var s,a,c;const[u,...l]=r.split("."),d=l[0],p=null!==(s=e.models[o])&&void 0!==s?s:e.nonModels[o],f=null==p?void 0:p.fields,h=null==f||null===(a=f[u])||void 0===a||null===(a=a.type)||void 0===a?void 0:a.model,g=null==f||null===(c=f[u])||void 0===c||null===(c=c.type)||void 0===c?void 0:c.nonModel,y=e.nonModels[g],A=e.models[h]?"model":y?"nonModel":"field";if("nonModel"===A){let S={};if(!d)throw Error(`${u} must declare a wildcard (*) or a field of custom type ${g}`);return S=d===Tt?{[u]:qe(y,e)}:{[u]:i(l.join("."),g)},S}if("model"===A){var T;let S={};if(!d)throw Error(`${u} must declare a wildcard (*) or a field of model ${h}`);return S=d===Tt?{[u]:Io(e.models[h],e)}:{[u]:i(l.join("."),h)},null!==(T=f[u])&&void 0!==T&&T.isArray&&(S={[u]:{items:S[u]}}),S}{var b;const S=null==f?void 0:f[u],D=e.nonModels[o],x=null==D||null===(b=D.fields)||void 0===b?void 0:b[u];if(D){if(!x)throw Error(`${u} is not a field of custom type ${o}`)}else{const _=At(p).includes(u);if(!S&&!_)throw Error(`${u} is not a field of model ${o}`)}return{[u]:de}}};return n.reduce((r,o)=>_n(i(o,t),r),{})}function He(e){const t=[];return Object.entries(e).forEach(([n,i])=>{i===de?t.push(n):"object"==typeof i&&null!==i&&(null!=i&&i.items?t.push(n,"{","items","{",He(i.items),"}","}"):t.push(n,"{",He(i),"}"))}),t.join(" ")}function _n(e,t){const n=i=>i&&"object"==typeof i;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)&&n(t[i])?_n(e[i],t[i]):t[i]=e[i]);return t}function Dn(e,t,n){const r=Do(e,t,null!=n?n:function _o(e){const{fields:t}=e,n=Object.values(t).map(({type:r,name:o})=>{if("string"==typeof r)return o;if("object"==typeof r){if("string"==typeof(null==r?void 0:r.enum))return o;if("string"==typeof(null==r?void 0:r.nonModel))return`${o}.${Tt}`}}).filter(Boolean),i=At(e);return Array.from(new Set(n.concat(i)))}(e.models[t]));return He(r)}function We(e,t,n,i,r){var o,s,a,c,u,l,d,p,f,h,m,g,y;const A=e.models[t],{name:T,pluralName:b,fields:S,primaryKeyInfo:{isCustomPrimaryKey:D,primaryKeyFieldName:x,sortKeyFieldNames:_},attributes:I}=A,L=T.charAt(0).toUpperCase()+T.slice(1),ve=b.charAt(0).toUpperCase()+b.slice(1),{operationPrefix:ke,usePlural:Xe}=In[n],{selectionSet:k}=i||{};let M,U,te,ne,B;if(ke)M=`${ke}${Xe?ve:L}`;else{if(!r)throw new Error("Error generating GraphQL Document - invalid operation name");{const{queryField:Z,pk:G,sk:ie=[]}=r;M=Z;let ae={};if(1===ie.length){const[Ce]=ie;ae={[Ce]:`Model${bn["string"==typeof S[Ce].type?S[Ce].type:"String"]}KeyConditionInput`}}else if(ie.length>1){var F;const Ce=ze(ie),Dt=null==I||null===(F=I.find(xe=>{var kt;return(null==xe||null===(kt=xe.properties)||void 0===kt?void 0:kt.queryField)===Z}))||void 0===F||null===(F=F.properties)||void 0===F?void 0:F.name;ae={[Ce]:`Model${Ge(t)}${Ge(Dt)}CompositeKeyConditionInput`}}U={[G]:`${Object.prototype.hasOwnProperty.call(S[G].type,"enum")?S[G].type.enum:S[G].type}!`,...ae}}}const Ze=Dn(e,t,k),$n={[x]:`${S[x].type}!`},jn={},Kn=Z=>{if(0===_.length)return{};if("get"===Z)return _.reduce((G,ie)=>("get"===Z&&(G[ie]=`${S[ie].type}!`),G),{});if(1===_.length){const[G]=_;return{[G]:`Model${bn["string"==typeof S[G].type?S[G].type:"String"]}KeyConditionInput`}}return{[ze(_)]:`Model${Ge(t)}PrimaryCompositeKeyConditionInput`}};switch(D&&(Object.assign($n,Kn("get")),Object.assign(jn,{[x]:`${S[x].type}`,sortDirection:"ModelSortDirection"},Kn("list"))),n){case"CREATE":case"UPDATE":case"DELETE":null!==(o=B)&&void 0!==o||(B={input:`${ke.charAt(0).toLocaleUpperCase()+ke.slice(1)}${L}Input!`}),null!==(s=te)&&void 0!==s||(te="mutation");case"READ":null!==(a=B)&&void 0!==a||(B=$n),null!==(c=ne)&&void 0!==c||(ne=Ze);case"LIST":null!==(u=B)&&void 0!==u||(B={...jn,filter:`Model${L}FilterInput`,limit:"Int",nextToken:"String"}),null!==(l=te)&&void 0!==l||(te="query"),null!==(d=ne)&&void 0!==d||(ne=`items { ${Ze} } nextToken __typename`);case"INDEX_QUERY":null!==(p=B)&&void 0!==p||(B={...U,filter:`Model${L}FilterInput`,sortDirection:"ModelSortDirection",limit:"Int",nextToken:"String"}),null!==(f=te)&&void 0!==f||(te="query"),null!==(h=ne)&&void 0!==h||(ne=`items { ${Ze} } nextToken __typename`);case"ONCREATE":case"ONUPDATE":case"ONDELETE":null!==(m=B)&&void 0!==m||(B={filter:`ModelSubscription${L}FilterInput`}),null!==(g=te)&&void 0!==g||(te="subscription"),null!==(y=ne)&&void 0!==y||(ne=Ze);break;default:throw new Error("Internal error: Attempted to generate graphql document for observeQuery. Please report this error.")}return`${te}${B?`(${Object.entries(B).map(([Z,G])=>`$${Z}: ${G}`)})`:""} { ${M}${B?`(${Object.keys(B).map(Z=>`${Z}: $${Z}`)})`:""} { ${ne} } }`}function Ye(e,t,n,i,r){const{fields:o,primaryKeyInfo:{isCustomPrimaryKey:s,primaryKeyFieldName:a,sortKeyFieldNames:c}}=e,u=(null==c?void 0:c.length)&&ze(c);let l={};switch(t){case"CREATE":l={input:n?kn(n,e,i):{}};break;case"UPDATE":l={input:n?Object.fromEntries(Object.entries(kn(n,e,i)).filter(([d])=>{const{isReadOnly:p}=o[d];return!p})):{}};break;case"READ":case"DELETE":n&&(l=s?[a,...c].reduce((d,p)=>(d[p]=n[p],d),{}):{[a]:n[a]}),"DELETE"===t&&(l={input:l});break;case"LIST":null!=n&&n.filter&&(l.filter=n.filter),null!=n&&n.sortDirection&&(l.sortDirection=n.sortDirection),n&&n[a]&&(l[a]=n[a]),u&&n&&n[u]&&(l[u]=n[u]),null!=n&&n.nextToken&&(l.nextToken=n.nextToken),null!=n&&n.limit&&(l.limit=n.limit);break;case"INDEX_QUERY":{const{pk:d,sk:p=[]}=r,f=(null==p?void 0:p.length)&&ze(p);l[d]=n[d],f&&n&&n[f]&&(l[f]=n[f]),null!=n&&n.filter&&(l.filter=n.filter),null!=n&&n.sortDirection&&(l.sortDirection=n.sortDirection),null!=n&&n.nextToken&&(l.nextToken=n.nextToken),null!=n&&n.limit&&(l.limit=n.limit);break}case"ONCREATE":case"ONUPDATE":case"ONDELETE":null!=n&&n.filter&&(l={filter:n.filter});break;case"OBSERVE_QUERY":throw new Error("Internal error: Attempted to build variables for observeQuery. Please report this error.");default:throw new Error(`Unhandled operation case: ${t}`)}return l}function kn(e,t,n){const{fields:i}=t,r={};return Object.entries(e).forEach(([o,s])=>{var a;const c=null===(a=i[o])||void 0===a?void 0:a.type,u=null==c?void 0:c.model;if(u){var l;const d=null===(l=i[o])||void 0===l?void 0:l.association,f=n.models[u].primaryKeyInfo;if((null==d?void 0:d.connectionType)===le.HAS_ONE){const h=d;h.targetNames.forEach((m,g)=>{r[m]=s[h.associatedWith[g]]})}(null==d?void 0:d.connectionType)===le.BELONGS_TO&&d.targetNames.forEach((m,g)=>{r[m]=0===g?s[f.primaryKeyFieldName]:s[f.sortKeyFieldNames[g-1]]})}else r[o]=s}),r}function pe(e,t,n={}){const i=t(e);return{authMode:n.authMode||i.authMode,authToken:n.authToken||i.authToken}}function fe(e,t,n){let i=t(e).headers||{};return n&&(i=n),i}function St(e){if(null!=e&&e.errors)return{...e,data:[]};throw e}function Je(e){if(e.errors)return{...e,data:null};throw e}const ko=e=>{var t;return"symbol"==typeof(null==e||null===(t=e.token)||void 0===t?void 0:t.value)};function Co(e,t,n,i,r,o){const s=void 0!==i.arguments;return(...c)=>{const u=c[c.length-1];let l,d;if(r){if(!ko(c[0]))throw new Error(`Invalid first argument passed to ${i.name}. Expected contextSpec`);l=c[0]}return s&&(d=r?c[1]:c[0]),"subscription"===n?function Ro(e,t,n,i,r,o){const{name:a}=n,c=pe(e,i,o),u=fe(e,i,null==o?void 0:o.headers),l=Cn(n),d=xn(n),p=Rn(t,n),f=he(n.type,"model")?n.type.model:void 0,h=`\n    ${"subscription".toLocaleLowerCase()}${l} {\n      ${a}${d} ${p}\n    }\n  `,m=wn(n,r);return e.graphql({...c,query:h,variables:m},u).pipe((0,mt.T)(y=>{const[A]=Object.keys(y.data),T=y.data[A],[b]=f?ee(e,f,[T],t,c.authMode,c.authToken):[T];return b}))}(e,t,i,o,d,u):function xo(e,t,n,i,r,o,s,a){return Ot.apply(this,arguments)}(e,t,n,i,o,d,u,l)}}function he(e,t){return"string"==typeof e[t]}function Cn(e){if(void 0===e.arguments)return"";const t=Object.entries(e.arguments).map(([n,i])=>{const r=i.type+(i.isRequired?"!":"");return`$${n}: ${i.isArray?`[${r}]${i.isArrayNullable?"":"!"}`:r}`}).join(", ");return t.length>0?`(${t})`:""}function xn(e){if(void 0===e.arguments)return"";const t=Object.keys(e.arguments).map(n=>`${n}: $${n}`).join(", ");return t.length>0?`(${t})`:""}function Rn(e,t){return he(t,"type")||he(t.type,"enum")?"":he(t.type,"nonModel")?`{${He(qe(e.nonModels[t.type.nonModel],e))}}`:he(t.type,"model")?`{${Dn(e,t.type.model)}}`:""}function wn(e,t={}){const n={};if(void 0===e.arguments)return n;for(const i of Object.values(e.arguments))if(typeof t[i.name]<"u")n[i.name]=t[i.name];else if(i.isRequired)throw new Error(`${e.name} requires arguments '${i.name}'`);return n}function Ot(){return(Ot=(0,N.A)(function*(e,t,n,i,r,o,s,a){const{name:c}=i,u=pe(e,r,s),l=fe(e,r,null==s?void 0:s.headers),d=Cn(i),p=xn(i),f=Rn(t,i),h=he(i.type,"model")?i.type.model:void 0,m=`\n    ${n.toLocaleLowerCase()}${d} {\n      ${c}${p} ${f}\n    }\n  `,g=wn(i,o);try{const{data:y,extensions:A}=a?yield e.graphql(a,{...u,query:m,variables:g},l):yield e.graphql({...u,query:m,variables:g},l);if(y){const[T]=Object.keys(y),b=Array.isArray(y[T]),S=b?y[T].filter(x=>x):y[T],D=h?ee(e,h,b?S:[S],t,u.authMode,u.authToken,!!a):S;return{data:!b&&Array.isArray(D)?D.shift():D,extensions:A}}return{data:null,extensions:A}}catch(y){const{data:A,errors:T}=y;if(A&&0!==Object.keys(A).length&&T){const[b]=Object.keys(A),S=Array.isArray(A[b]),D=S?A[b].filter(x=>x):A[b];if(D){const x=h?ee(e,h,S?D:[D],t,u.authMode,u.authToken,!!a):D;return{data:!S&&Array.isArray(x)?x.shift():x,errors:T}}return Je(y)}return Je(y)}})).apply(this,arguments)}const wo={queries:"query",mutations:"mutation",subscriptions:"subscription"};function Nt(e,t,n,i){if(!t)return{};const r=t.modelIntrospection;if(!r)return{};const o=r[n];if(!o)return{};const s={},a=null===i(e).amplify;for(const c of Object.values(o))s[c.name]=Co(e,r,wo[n],c,a,i);return s}function Uo(e,t,n,i,r=!1){return r?function(){var a=(0,N.A)(function*(c,u){return Ln(e,t,n,i,u,c)});return function(u,l){return a.apply(this,arguments)}}():function(){var a=(0,N.A)(function*(c){return Ln(e,t,n,i,c)});return function(u){return a.apply(this,arguments)}}()}function Ln(e,t,n,i,r,o){return bt.apply(this,arguments)}function bt(){return(bt=(0,N.A)(function*(e,t,n,i,r,o){const{name:s}=n,a=We(t,s,"LIST",r),c=Ye(n,"LIST",r,t),u=pe(e,i,r);try{const h=fe(e,i,null==r?void 0:r.headers),{data:m,extensions:g}=o?yield e.graphql(o,{...u,query:a,variables:c},h):yield e.graphql({...u,query:a,variables:c},h);if(void 0!==m){const[y]=Object.keys(m);if(m[y].items){const A=m[y].items.map(T=>re(t,s,T));return null!=r&&r.selectionSet?{data:A,nextToken:m[y].nextToken,extensions:g}:{data:ee(e,s,A,t,u.authMode,u.authToken,!!o),nextToken:m[y].nextToken,extensions:g}}return{data:m[y],nextToken:m[y].nextToken,extensions:g}}}catch(h){const{data:m,errors:g}=h;if(null!=m&&0!==Object.keys(m).length&&g){var l;const[y]=Object.keys(m);if(null!==(l=m[y])&&void 0!==l&&l.items){var d;const A=m[y].items.map(T=>re(t,s,T));var p,f;return A?null!=r&&r.selectionSet?{data:A,nextToken:null===(p=m[y])||void 0===p?void 0:p.nextToken,errors:g}:{data:ee(e,s,A,t,u.authMode,u.authToken,!!o),nextToken:null===(f=m[y])||void 0===f?void 0:f.nextToken,errors:g}:{data:m[y],nextToken:null===(d=m[y])||void 0===d?void 0:d.nextToken,errors:g}}return St(h)}return St(h)}})).apply(this,arguments)}function $o(e,t,n,i,r,o=!1){return o?function(){var c=(0,N.A)(function*(u,l,d){return Pn(e,t,n,i,r,{...l,...d},u)});return function(l,d,p){return c.apply(this,arguments)}}():function(){var c=(0,N.A)(function*(u,l){return Pn(e,t,n,i,r,{...u,...l})});return function(l,d){return c.apply(this,arguments)}}()}function Pn(e,t,n,i,r,o,s){return It.apply(this,arguments)}function It(){return(It=(0,N.A)(function*(e,t,n,i,r,o,s){const{name:a}=n,c=We(t,a,"INDEX_QUERY",o,i),u=Ye(n,"INDEX_QUERY",o,t,i),l=pe(e,r,o),d=g=>ee(e,a,g,t,l.authMode,l.authToken,!!s);try{const g=fe(e,r,null==o?void 0:o.headers),A=[{...l,query:c,variables:u},g];void 0!==s&&A.unshift(s);const T=yield e.graphql(...A);if(void 0!==T.data)return function jo(e,t,n,i,r){const{data:o,extensions:s}=n,[a]=Object.keys(o);if(o[a].items){const c=o[a].items.map(u=>re(e,t,u));return{data:i?c:r(c),nextToken:o[a].nextToken,extensions:s}}return{data:o[a],nextToken:o[a].nextToken,extensions:s}}(t,a,T,null==o?void 0:o.selectionSet,d)}catch(g){const{data:y,errors:A}=g;if(void 0!==y&&0!==Object.keys(y).length&&A){var p,f;const[T]=Object.keys(y);if(null!==(p=y[T])&&void 0!==p&&p.items){var h;const b=null===(h=y[T])||void 0===h?void 0:h.items.map(S=>re(t,a,S));var m;if(b)return{data:null!=o&&o.selectionSet?b:d(b),nextToken:null===(m=y[T])||void 0===m?void 0:m.nextToken}}return{data:y[T],nextToken:null===(f=y[T])||void 0===f?void 0:f.nextToken}}return St(g)}})).apply(this,arguments)}function Ko(e,t,n,i,r,o=!1){return o?function(){var c=(0,N.A)(function*(u,l,d){return Mn(e,t,n,l,d,i,r,u)});return function(l,d,p){return c.apply(this,arguments)}}():function(){var c=(0,N.A)(function*(u,l){return Mn(e,t,n,u,l,i,r)});return function(l,d){return c.apply(this,arguments)}}()}function Mn(e,t,n,i,r,o,s,a){return _t.apply(this,arguments)}function _t(){return(_t=(0,N.A)(function*(e,t,n,i,r,o,s,a){const{name:c}=n,u=We(t,c,o,r),l=Ye(n,o,i,t),d=pe(e,s,r);try{const p=fe(e,s,null==r?void 0:r.headers),{data:f,extensions:h}=a?yield e.graphql(a,{...d,query:u,variables:l},p):yield e.graphql({...d,query:u,variables:l},p);if(f){const[m]=Object.keys(f),g=re(t,c,f[m]);if(null===g)return{data:null,extensions:h};if(null!=r&&r.selectionSet)return{data:g,extensions:h};{const[y]=ee(e,c,[g],t,d.authMode,d.authToken,!!a);return{data:y,extensions:h}}}return{data:null,extensions:h}}catch(p){const{data:f,errors:h}=p;if(f&&0!==Object.keys(f).length&&h){const[m]=Object.keys(f),g=re(t,c,f[m]);if(g){if(null!=r&&r.selectionSet)return{data:g,errors:h};{const[y]=ee(e,c,[g],t,d.authMode,d.authToken,!!a);return{data:y,errors:h}}}return Je(p)}return Je(p)}})).apply(this,arguments)}function Vo(e,t,n,i,r){const{name:o}=n;return a=>{const c=We(t,o,i,a),u=Ye(n,i,a,t),l=pe(e,r,a),d=fe(e,r,null==a?void 0:a.headers);return e.graphql({...l,query:c,variables:u},d).pipe((0,mt.T)(f=>{const[h]=Object.keys(f.data),m=f.data[h],[g]=ee(e,o,[m],t,l.authMode,l.authToken);return g}))}}function Bo(e,t,n){const i=Object.fromEntries(n.map(r=>[r,e[r]]));for(let r=0;r<t.length;r++)if(Object.keys(i).every(o=>i[o]===t[r][o]))return r;return-1}function Go(e,t){const{name:n}=t;return r=>new be.c(o=>{const s=[],a=[];let c=(...h)=>a.push(...h);const u=e[n].onCreate(r).subscribe({next(h){c({item:h,type:"create"})},error(h){o.error({type:"onCreate",error:h})}}),l=e[n].onUpdate(r).subscribe({next(h){c({item:h,type:"update"})},error(h){o.error({type:"onUpdate",error:h})}}),d=e[n].onDelete(r).subscribe({next(h){c({item:h,type:"delete"})},error(h){o.error({type:"onDelete",error:h})}});function p(h){for(const m of h){const g=Bo(m.item,s,f);switch(m.type){case"create":g<0&&s.push(m.item);break;case"update":g>=0&&(s[g]=m.item);break;case"delete":g>=0&&s.splice(g,1);break;default:console.error("Unrecognized message in observeQuery.",m)}}o.next({items:s,isSynced:!0})}const f=function Qo(e){const{primaryKeyFieldName:t,sortKeyFieldNames:n}=e.primaryKeyInfo;return[t,...n]}(t);return(0,N.A)(function*(){let h=!0,m=null;for(;!o.closed&&(h||m);){h=!1;const{data:g,errors:y,nextToken:A}=yield e[n].list({...r,nextToken:m});if(m=A,s.push(...g),o.next({items:s,isSynced:0===a.length&&null==m}),Array.isArray(y))for(const b of y)o.error(b)}a.length>0&&p(a),c=(...g)=>(p(g),s.length)})(),()=>{u.unsubscribe(),l.unsubscribe(),d.unsubscribe()}})}const zo=e=>{var t,n,i;return"key"===e.type&&(null===(t=e.properties)||void 0===t?void 0:t.name)&&(null===(n=e.properties)||void 0===n?void 0:n.queryField)&&(null===(i=e.properties)||void 0===i?void 0:i.fields.length)>0},qo=e=>{var t;return(null===(t=e.attributes)||void 0===t?void 0:t.filter(zo).map(i=>{const r=i.properties.queryField,[o,...s]=i.properties.fields;return{queryField:r,pk:o,sk:s}}))||[]};function Fn(e,t,n){return e.models=function Ho(e,t,n){const i={},r=t.modelIntrospection;if(!r)return{};const o=["ONCREATE","ONUPDATE","ONDELETE"];for(const s of Object.values(r.models)){const{name:a}=s;i[a]={},Object.entries(In).forEach(([u,{operationPrefix:l}])=>{const d=u;i[a][l]="LIST"===d?Uo(e,r,s,n):o.includes(d)?Vo(e,r,s,d,n):"OBSERVE_QUERY"===d?Go(i,s):Ko(e,r,s,d,n)});const c=qo(s);for(const u of c)i[a][u.queryField]=$o(e,r,s,u,n)}return i}(e,t,n),e.enums=(e=>{const t=e.modelIntrospection;if(!t)return{};const n={};for(const[i,r]of Object.entries(t.enums))n[r.name]={values:()=>r.values};return n})(t),e.queries=function Po(e,t,n){return Nt(e,t,"queries",n)}(e,t,n),e.mutations=function Lo(e,t,n){return Nt(e,t,"mutations",n)}(e,t,n),e.subscriptions=function Mo(e,t,n){return Nt(e,t,"subscriptions",n)}(e,t,n),e}function Un(e){return void 0!==e}function Yo(e,t){const n=gt(this);return e.authMode=e.authMode||n.authMode,e.authToken=e.authToken||n.authToken,Et.graphql(n.amplify,e,t)}function Jo(e,t){return Et.cancel(e,t)}function Xo(e){return Et.isCancelError(e)}const De=new Proxy({},{get(){throw new Error("Client could not be generated. This is likely due to `Amplify.configure()` not being called prior to `generateClient()` or because the configuration passed to `Amplify.configure()` is missing GraphQL provider configuration.")}});let Q=function ts(e={}){return function Zo(e){var t;const n={[En]:e.amplify,[An]:e.authMode,[Tn]:e.authToken,[Sn]:e.headers,graphql:Yo,cancel:Jo,isCancelError:Xo,models:De,enums:De,queries:De,mutations:De,subscriptions:De},i=null===(t=e.amplify.getConfig().API)||void 0===t?void 0:t.GraphQL;return Un(i)?Fn(n,i,gt):(e=>{ht.YZ.listen("core",t=>{var n;if(!function Wo(e){return"configure"===e.event}(t.payload))return;const i=null===(n=t.payload.data.API)||void 0===n?void 0:n.GraphQL;Un(i)&&Fn(e,i,gt)})})(n),n}({...e,amplify:an.H})}(),is=(()=>{var e;class t{CreateOrganization(i,r){return(0,N.A)(function*(){const s={input:i};return r&&(s.condition=r),(yield Q.graphql(V("mutation CreateOrganization($input: CreateOrganizationInput!, $condition: ModelOrganizationConditionInput) {\n        createOrganization(input: $input, condition: $condition) {\n          __typename\n          id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n      }",s))).data.createOrganization})()}UpdateOrganization(i,r){return(0,N.A)(function*(){const s={input:i};return r&&(s.condition=r),(yield Q.graphql(V("mutation UpdateOrganization($input: UpdateOrganizationInput!, $condition: ModelOrganizationConditionInput) {\n        updateOrganization(input: $input, condition: $condition) {\n          __typename\n          id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n      }",s))).data.updateOrganization})()}DeleteOrganization(i,r){return(0,N.A)(function*(){const s={input:i};return r&&(s.condition=r),(yield Q.graphql(V("mutation DeleteOrganization($input: DeleteOrganizationInput!, $condition: ModelOrganizationConditionInput) {\n        deleteOrganization(input: $input, condition: $condition) {\n          __typename\n          id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n      }",s))).data.deleteOrganization})()}CreateApplication(i,r){return(0,N.A)(function*(){const s={input:i};return r&&(s.condition=r),(yield Q.graphql(V("mutation CreateApplication($input: CreateApplicationInput!, $condition: ModelApplicationConditionInput) {\n        createApplication(input: $input, condition: $condition) {\n          __typename\n          id\n          org\n          name\n          type\n          repository\n          registry\n          description\n          createdAt\n          updatedAt\n        }\n      }",s))).data.createApplication})()}UpdateApplication(i,r){return(0,N.A)(function*(){const s={input:i};return r&&(s.condition=r),(yield Q.graphql(V("mutation UpdateApplication($input: UpdateApplicationInput!, $condition: ModelApplicationConditionInput) {\n        updateApplication(input: $input, condition: $condition) {\n          __typename\n          id\n          org\n          name\n          type\n          repository\n          registry\n          description\n          createdAt\n          updatedAt\n        }\n      }",s))).data.updateApplication})()}DeleteApplication(i,r){return(0,N.A)(function*(){const s={input:i};return r&&(s.condition=r),(yield Q.graphql(V("mutation DeleteApplication($input: DeleteApplicationInput!, $condition: ModelApplicationConditionInput) {\n        deleteApplication(input: $input, condition: $condition) {\n          __typename\n          id\n          org\n          name\n          type\n          repository\n          registry\n          description\n          createdAt\n          updatedAt\n        }\n      }",s))).data.deleteApplication})()}GetOrganization(i){return(0,N.A)(function*(){const o={id:i};return(yield Q.graphql(V("query GetOrganization($id: ID!) {\n        getOrganization(id: $id) {\n          __typename\n          id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n      }",o))).data.getOrganization})()}ListOrganizations(i,r,o){return(0,N.A)(function*(){const a={};return i&&(a.filter=i),r&&(a.limit=r),o&&(a.nextToken=o),(yield Q.graphql(V("query ListOrganizations($filter: ModelOrganizationFilterInput, $limit: Int, $nextToken: String) {\n        listOrganizations(filter: $filter, limit: $limit, nextToken: $nextToken) {\n          __typename\n          items {\n            __typename\n            id\n            name\n            description\n            createdAt\n            updatedAt\n          }\n          nextToken\n        }\n      }",a))).data.listOrganizations})()}GetApplication(i){return(0,N.A)(function*(){const o={id:i};return(yield Q.graphql(V("query GetApplication($id: ID!) {\n        getApplication(id: $id) {\n          __typename\n          id\n          org\n          name\n          type\n          repository\n          registry\n          description\n          createdAt\n          updatedAt\n        }\n      }",o))).data.getApplication})()}ListApplications(i,r,o){return(0,N.A)(function*(){const a={};return i&&(a.filter=i),r&&(a.limit=r),o&&(a.nextToken=o),(yield Q.graphql(V("query ListApplications($filter: ModelApplicationFilterInput, $limit: Int, $nextToken: String) {\n        listApplications(filter: $filter, limit: $limit, nextToken: $nextToken) {\n          __typename\n          items {\n            __typename\n            id\n            org\n            name\n            type\n            repository\n            registry\n            description\n            createdAt\n            updatedAt\n          }\n          nextToken\n        }\n      }",a))).data.listApplications})()}OnCreateOrganizationListener(i){const o={};return i&&(o.filter=i),Q.graphql(V("subscription OnCreateOrganization($filter: ModelSubscriptionOrganizationFilterInput) {\n        onCreateOrganization(filter: $filter) {\n          __typename\n          id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n      }",o))}OnUpdateOrganizationListener(i){const o={};return i&&(o.filter=i),Q.graphql(V("subscription OnUpdateOrganization($filter: ModelSubscriptionOrganizationFilterInput) {\n        onUpdateOrganization(filter: $filter) {\n          __typename\n          id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n      }",o))}OnDeleteOrganizationListener(i){const o={};return i&&(o.filter=i),Q.graphql(V("subscription OnDeleteOrganization($filter: ModelSubscriptionOrganizationFilterInput) {\n        onDeleteOrganization(filter: $filter) {\n          __typename\n          id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n      }",o))}OnCreateApplicationListener(i){const o={};return i&&(o.filter=i),Q.graphql(V("subscription OnCreateApplication($filter: ModelSubscriptionApplicationFilterInput) {\n        onCreateApplication(filter: $filter) {\n          __typename\n          id\n          org\n          name\n          type\n          repository\n          registry\n          description\n          createdAt\n          updatedAt\n        }\n      }",o))}OnUpdateApplicationListener(i){const o={};return i&&(o.filter=i),Q.graphql(V("subscription OnUpdateApplication($filter: ModelSubscriptionApplicationFilterInput) {\n        onUpdateApplication(filter: $filter) {\n          __typename\n          id\n          org\n          name\n          type\n          repository\n          registry\n          description\n          createdAt\n          updatedAt\n        }\n      }",o))}OnDeleteApplicationListener(i){const o={};return i&&(o.filter=i),Q.graphql(V("subscription OnDeleteApplication($filter: ModelSubscriptionApplicationFilterInput) {\n        onDeleteApplication(filter: $filter) {\n          __typename\n          id\n          org\n          name\n          type\n          repository\n          registry\n          description\n          createdAt\n          updatedAt\n        }\n      }",o))}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=et.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),rs=(()=>{var e;class t{constructor(i){this.apiService=i}getAll(){return this.apiService.ListOrganizations()}getById(i){return this.apiService.GetOrganization(i)}}return(e=t).\u0275fac=function(i){return new(i||e)(et.KVO(is))},e.\u0275prov=et.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),t})()}}]);